(function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)r=o[m],a[r]&&d.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"051e":function(e,t,n){},"0856":function(e,t,n){"use strict";var s=n("8f58"),a=n.n(s);a.a},1345:function(e,t,n){"use strict";var s=n("7de2"),a=n.n(s);a.a},"141b":function(e,t,n){},"1ece":function(e,t,n){"use strict";var s=n("a6ae"),a=n.n(s);a.a},"1f07":function(e,t,n){},"1f30":function(e,t,n){"use strict";var s=n("843a"),a=n.n(s);a.a},"2bf2":function(e,t,n){},"2c81":function(e,t,n){e.exports=n.p+"assets/img/404.9314fb0d.jpg"},"2d0a":function(e,t,n){"use strict";var s=n("d41d"),a=n.n(s);a.a},"32e3":function(e,t,n){},3337:function(e,t,n){},"4bdc":function(e,t,n){},"4cce":function(e,t,n){"use strict";var s=n("df8f"),a=n.n(s);a.a},"511d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s={};n.r(s),n.d(s,"userInfo",function(){return mn});var a={};n.r(a),n.d(a,"setUserInfo",function(){return dn});n("3a23"),n("f91a"),n("f8c5"),n("5c07"),n("53da"),n("2556"),n("d0f8");var i=n("eaf6"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],l=(n("7c55"),n("17cc")),c={},u=Object(l["a"])(c,r,o,!1,null,null,null),m=u.exports,d=n("1e6f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"form_container",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("loginForm")}}},[e._m(0),n("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginUser,rules:e.rules,"label-width":"60px"}},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.loginUser.email,callback:function(t){e.$set(e.loginUser,"email",t)},expression:"loginUser.email"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.loginUser.password,callback:function(t){e.$set(e.loginUser,"password",t)},expression:"loginUser.password"}})],1),n("el-form-item",[n("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登  录")])],1),n("div",{staticClass:"login-type"},[n("div",{staticClass:"github"},[n("p",[e._v("使用"),n("a",{attrs:{href:e.href}},[e._v("github")]),e._v("登录")])]),n("div",{staticClass:"tiparea"},[n("p",[e._v("还没有账号？现在"),n("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1)])])],1)],1)},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manage_tip"},[n("span",{staticClass:"title"},[e._v("在线答题系统")])])}],f=n("3556"),h=(n("48fb"),n("4453"),n("a7ca")),b=n("52c1"),w=n("7f43"),v=n.n(w),x=n("bea0"),y=n.n(x),C=null,_=function(){C=x["Loading"].service({lock:!0,text:"加载中...",background:"rgba(0,0,0,0.7)"})},k=function(){C.close(),C=null},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(s,a){_(),v.a.get(e,{params:t,headers:n}).then(function(e){200==e.status?s(e.data):a(e.data),k()}).catch(function(e){a(e),k()})})},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,s){_(),v.a.post(e,t).then(function(e){200==e.status?n(e.data):s(e.data),k()}).catch(function(e){s(e),k()})})},T=["/api/user/login","/api/user/register","/api/user/sendCode","/api/user/logout"],j="a82354ff0df1d871f371",I="http://120.79.209.208:9092",S={name:"login",data:function(){return{loginUser:{email:"",password:""},rules:{email:[{type:"email",required:!0,message:"邮箱格式不正确",trigger:"change"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"}]}}},mounted:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.$route.query.code,!t){e.next=7;break}return e.next=5,$("/api/user/getGithubInfo",{code:t});case 5:n=e.sent,200==n.statusCode?(this.$message({showClose:!0,message:n.message,type:"success"}),this.setUserInfo(n.data.userInfo),this.$router.push({name:"home"})):this.$message({showClose:!0,message:n.message,type:"warning"});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(f["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.prev=1,e.next=4,Q("/api/user/login",t.loginUser);case 4:s=e.sent,200==s.statusCode?(t.$message({showClose:!0,message:s.message,type:"success"}),t.setUserInfo(s.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}),computed:{href:function(){return"https://github.com/login/oauth/authorize?client_id=".concat(j,"&redirect_uri=").concat(I)}}},A=S,q=(n("cfa9"),Object(l["a"])(A,p,g,!1,null,"d2197398",null)),O=q.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"form_container",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("registerForm")}}},[e._m(0),n("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.registerUser,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerUser.name,callback:function(t){e.$set(e.registerUser,"name",t)},expression:"registerUser.name"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"password2"}},[n("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.registerUser.password2,callback:function(t){e.$set(e.registerUser,"password2",t)},expression:"registerUser.password2"}})],1),n("el-form-item",{attrs:{label:"验证码",prop:"code"}},[n("div",{staticClass:"flex-row"},[n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.registerUser.code,callback:function(t){e.$set(e.registerUser,"code",t)},expression:"registerUser.code"}}),n("el-button",{staticClass:"code_btn",attrs:{disabled:e.disabled,type:"primary"},on:{click:e.getCode}},[e._v(e._s(e.disabled?e.second+"s":"获取"))])],1)]),n("el-form-item",[n("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerForm")}}},[e._v("注 册")])],1),n("div",{staticClass:"tiparea"},[n("p",[e._v("已经有账号？现在"),n("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1)])],1)],1)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manage_tip"},[n("span",{staticClass:"title"},[e._v("在线答题系统")])])}],L=function(e){var t=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return t.test(e)},B=function(e){var t=new Date(e),n=t.getFullYear(),s=t.getMonth()+1,a=t.getDate();return s=s<10?"0".concat(s):s,a=a<10?"0".concat(a):a,"".concat(n,"-").concat(s,"-").concat(a)},D=function(e){return e&&e>0?(e=(100*e).toFixed(2),e="".concat(e,"%")):e=0,e};var N=function(){return Date.now().toString()+Math.random().toString(36).substr(2,6)},z={name:"register",data:function(){var e=this,t=function(t,n,s){n!==e.registerUser.password?s(new Error("两次输入密码不一致!")):s()};return{registerUser:{name:"",email:"",password:"",password2:"",code:""},disabled:!1,second:60,rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:30,message:"用户名长度应为2到30个字符",trigger:"blur"}],email:[{type:"email",required:!0,message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],password2:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"},{validator:t,trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"},{min:4,max:4,message:"验证码长度应为4个字符",trigger:"blur"}]}}},methods:Object(f["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.prev=1,e.next=4,Q("/api/user/register",t.registerUser);case 4:s=e.sent,200==s.statusCode?(t.$message({showClose:!0,message:s.message,type:"success"}),t.setUserInfo(s.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},getCode:function(){var e=this;""!=this.registerUser.email?L(this.registerUser.email)&&(this.disabled=!0,this.timer=setInterval(function(){e.second=e.second-1,0===e.second&&(e.disabled=!1,e.second=60,clearInterval(e.timer))},1e3),$("/api/user/sendCode",{email:this.registerUser.email}).then(function(t){200==t.statusCode?e.$message({showClose:!0,message:t.message,type:"success"}):e.$message({showClose:!0,message:t.message,type:"warning"})}).catch(function(t){e.$message({showClose:!0,message:t.toString(),type:"error"})})):this.$message({showClose:!0,message:"邮箱不能为空",type:"warning"})}}),beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},R=z,U=(n("d749"),Object(l["a"])(R,P,E,!1,null,"0e0fb5ae",null)),M=U.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("HeadNav"),n("LeftMenu"),n("div",{staticClass:"rightContainer"},[n("router-view")],1)],1)},J=[],V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"head-nav"},[s("el-row",[s("el-col",{staticClass:"logo-container",attrs:{span:6}},[s("img",{staticClass:"logo",attrs:{src:n("cf05"),alt:""}}),s("span",{staticClass:"title"},[e._v("在线答题系统")])]),s("el-col",{staticClass:"user",attrs:{span:6}},[s("div",{staticClass:"userinfo"},[s("span",{staticClass:"username"},[s("el-dropdown",{attrs:{trigger:"click"}},[s("div",{staticClass:"el-dropdown-link"},[s("div",{staticClass:"welcome"},[s("p",{staticClass:"name comename"},[e._v("欢迎")]),s("p",{staticClass:"name avatarname"},[e._v(e._s(e.userInfo.name))])]),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"info"}},[s("div",{on:{click:e.info}},[e._v("个人信息")])]),s("el-dropdown-item",{attrs:{command:"editpwd"}},[s("div",{on:{click:e.updatePwd}},[e._v("修改密码")])]),s("el-dropdown-item",{attrs:{command:"editname"}},[s("div",{on:{click:e.updateName}},[e._v("修改用户名")])]),s("el-dropdown-item",{attrs:{command:"logout"}},[s("div",{on:{click:e.logout}},[e._v("退出")])])],1)],1)],1)])])],1)],1)},W=[],H=n("d1c5"),Z={name:"head-nav",methods:Object(f["a"])({},Object(b["c"])(["setUserInfo"]),{info:function(){this.$router.push({name:"userInfo"})},logout:function(){var e=this;this.$confirm("确定要退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getOut()}).catch(function(){})},updatePwd:function(){this.$router.push({name:"updatePwd"})},updateName:function(){this.$router.push({name:"updateName"})},getOut:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("/api/user/logout");case 3:t=e.sent,200==t.statusCode?(H["a"].session.remove("userInfo"),this.setUserInfo({}),this.$router.push({name:"login"})):this.$message({type:"warning",message:t.message,showClose:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}),computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},G=Z,X=(n("e477"),Object(l["a"])(G,V,W,!1,null,"d71422be",null)),Y=X.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"menu_page"},[n("el-col",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical","background-color":"#324057","text-color":"#fff","active-text-color":"#409eff"}},[n("router-link",{attrs:{to:"/home"}},[n("el-menu-item",{attrs:{index:"0"}},[n("i",{staticClass:"fa fa-margin fa-server"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])])],1),e._l(e.items,function(t,s){return[t.children?n("el-submenu",{key:(s+1).toString(),attrs:{index:(s+1).toString()}},[n("template",{slot:"title"},[n("i",{class:"fa fa-margin "+t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._l(t.children,function(t,s){return n("router-link",{key:s,attrs:{to:t.path}},[n("el-menu-item",{attrs:{index:t.path}},[n("i",{class:"fa fa-margin "+t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)})],2):n("router-link",{key:t.path,attrs:{to:t.path}},[n("el-menu-item",{attrs:{index:(s+1).toString()}},[n("i",{class:"fa fa-margin "+t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)]})],2)],1)],1)},ee=[],te={name:"leftmenu",data:function(){return{items:[{icon:"fa-money",name:"试卷管理",children:[{icon:"fa-search-minus",name:"查阅试卷",path:"/consultQuestions"},{icon:"fa-google-plus",name:"发布新试题",path:"/addQuestion"},{icon:"fa-file-code-o",name:"发布的试卷",path:"/publishedQuestions"},{icon:"fa-text-width",name:"填写的试卷",path:"/answeredList"}]},{icon:"fa-asterisk",name:"试卷统计",path:"/questionsStatistics"}]}}},ne=te,se=(n("72df"),Object(l["a"])(ne,K,ee,!1,null,"1cddbdca",null)),ae=se.exports,ie={name:"index",components:{HeadNav:Y,LeftMenu:ae}},re=ie,oe=(n("dbb1"),Object(l["a"])(re,F,J,!1,null,"3cd63f4e",null)),le=oe.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bg",[n("div",{staticClass:"text-container text-center"},[n("h1",{staticClass:"title"},[e._v("在线答题系统")]),n("p",{staticClass:"lead"},[e._v(" 专注于线上答题, 用心做设计, 用心做服务! ")])])])},ue=[],me=(n("f344"),{}),de=Object(l["a"])(me,ce,ue,!1,null,"00d95024",null),pe=de.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bg",[[n("div",{staticClass:"form_container"},[n("el-form",{ref:"Form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"原始密码",prop:"oldPassword"}},[n("el-input",{attrs:{placeholder:"请输入原始密码",type:"password"},model:{value:e.form.oldPassword,callback:function(t){e.$set(e.form,"oldPassword",t)},expression:"form.oldPassword"}})],1),n("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[n("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"surePassword"}},[n("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.form.surePassword,callback:function(t){e.$set(e.form,"surePassword",t)},expression:"form.surePassword"}})],1),n("el-form-item",[n("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("Form")}}},[e._v("修改密码")])],1)],1)],1)]],2)},fe=[],he={data:function(){var e=this,t=function(t,n,s){n!==e.form.newPassword?s(new Error("两次输入密码不一致!")):s()};return{form:{oldPassword:"",newPassword:"",surePassword:""},rules:{oldPassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],newPassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],surePassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:Object(f["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.prev=1,e.next=4,Q("/api/user/updatePwd",Object(f["a"])({},t.form,{_id:t.userInfo._id}));case 4:s=e.sent,200==s.statusCode?(t.$message({showClose:!0,message:s.message,type:"success"}),t.setUserInfo(s.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}),computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},be=he,we=(n("1345"),Object(l["a"])(be,ge,fe,!1,null,"173a760a",null)),ve=we.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bg",[[n("div",{staticClass:"form_container"},[n("el-form",{ref:"Form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"新用户名",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入新用户名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",[n("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("Form")}}},[e._v("修改用户名")])],1)],1)],1)]],2)},ye=[],Ce={data:function(){return{form:{name:""},rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:30,message:"用户名长度应为2到30个字符",trigger:"blur"}]}}},methods:Object(f["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.prev=1,e.next=4,Q("/api/user/updateName",Object(f["a"])({},t.form,{_id:t.userInfo._id}));case 4:s=e.sent,200==s.statusCode?(t.$message({showClose:!0,message:s.message,type:"success"}),t.setUserInfo(s.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}),computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},_e=Ce,ke=(n("2d0a"),Object(l["a"])(_e,xe,ye,!1,null,"4cd61831",null)),$e=ke.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bg",[[n("div",{staticClass:"form_container"},[n("h1",{staticClass:"title"},[e._v("个人信息")]),n("div",{staticClass:"flex-row font24"},[n("span",{staticClass:"w100 mr10"},[e._v("用户名 :")]),n("p",[e._v(e._s(e.userInfo.name))])]),n("div",{staticClass:"flex-row font24",staticStyle:{"margin-top":"50px"}},[n("span",{staticClass:"w100 mr10"},[e._v("邮   箱 :")]),n("p",[e._v(e._s(e.userInfo.email))])])])]],2)},Te=[],je={computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},Ie=je,Se=(n("7800"),Object(l["a"])(Ie,Qe,Te,!1,null,"2a51002d",null)),Ae=Se.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),n("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("出卷人名称 : ")]),n("el-input",{attrs:{placeholder:"请输入出卷人名称",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"singleCount",align:"center",label:"单选题数量"}}),n("el-table-column",{attrs:{prop:"multipleCount",align:"center",label:"多选题数量"}}),n("el-table-column",{attrs:{prop:"judgementCount",align:"center",label:"判断题数量"}}),n("el-table-column",{attrs:{prop:"answerCount",align:"center",label:"简答题数量"}}),n("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总数量"}}),n("el-table-column",{attrs:{prop:"userName",align:"center",label:"发布者"}}),n("el-table-column",{attrs:{prop:"createTime",align:"center",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{disabled:t.row.isAnswer,size:"mini"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v(e._s(t.row.isAnswer?"已作答":"开始做题"))])]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Oe=[],Pe={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),this.userName&&(t.userName=this.userName),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t._id=this.userInfo._id,e.next=14,$("/api/questions/getQuestion",t);case 14:n=e.sent,200==n.statusCode?(this.questionsList=n.data.questionList,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 21:case"end":return e.stop()}},e,this,[[0,18]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerQuestion",params:{id:t._id}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},Ee=Pe,Le=(n("9fb1"),Object(l["a"])(Ee,qe,Oe,!1,null,"d443bc56",null)),Be=Le.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.openFile}},[e._v("上传试题")]),n("el-button",{attrs:{type:"success"},on:{click:e.downLoadTemplate}},[e._v("下载试题模板")]),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.upload}}),n("div",{staticClass:"mt20"},[n("div",{staticClass:"flex-row flex-center"},[n("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),n("el-input",{attrs:{clearable:"",placeholder:"请输入试题名称"},model:{value:e.questionTitle.name,callback:function(t){e.$set(e.questionTitle,"name","string"===typeof t?t.trim():t)},expression:"questionTitle.name"}})],1),n("div",{staticStyle:{margin:"10px 0 0 100px"}},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(e.questionTitle.message))])])]),n("Single",{attrs:{singleQuestion:e.singleQuestion},on:{addSingle:e.addSingle,deleteItem:e.deleteItem}}),n("Multiple",{attrs:{multipleQuestion:e.multipleQuestion},on:{addMultiple:e.addMultiple,deleteItem:e.deleteItem}}),n("Judgement",{attrs:{judgementQuestion:e.judgementQuestion},on:{addJudgement:e.addJudgement,deleteItem:e.deleteItem}}),n("Answer",{attrs:{answerQuestion:e.answerQuestion},on:{addAnswer:e.addAnswer,deleteItem:e.deleteItem}}),n("div",{staticClass:"mt20"},[n("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("创建")])],1)],1)},Ne=[],ze=(n("ab56"),n("612f"),{data:function(){return{questionTitle:{name:"",message:""},singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[]}},methods:{addSingle:function(){var e=N();this.singleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:"",message:""})},addMultiple:function(){var e=N();this.multipleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:[],message:""})},addJudgement:function(){var e=N();this.judgementQuestion.push({id:e,title:"",answer:"",message:""})},addAnswer:function(){var e=N();this.answerQuestion.push({id:e,title:"",answer:"",message:""})},create:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n,s,a,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion){e.next=3;break}return this.$message({showClose:!0,message:"试卷至少要有一道试题",type:"warning"}),e.abrupt("return");case 3:if(t=!0,n={},s={},a={},i={},this.singleQuestion.forEach(function(e){var s=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer||(s="请选择一个正确答案"):s="选项不能为空":s="题目不能为空",s?t=!1:n[e.id]=e.answer,e.message=s}),this.multipleQuestion.forEach(function(e){var n=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer.length<=1&&(n="请选择两个或两个以上正确答案"):n="选项不能为空":n="题目不能为空",n?t=!1:s[e.id]=e.answer.sort().toString(),e.message=n}),this.judgementQuestion.forEach(function(e){var n=null;e.title?e.answer||(n="请选择一个正确答案"):n="题目不能为空",n?t=!1:a[e.id]=e.answer,e.message=n}),this.answerQuestion.forEach(function(e){var n=null;e.title?e.answer||(n="请填写正确答案"):n="题目不能为空",n?t=!1:i[e.id]=e.answer,e.message=n}),this.questionTitle.name?this.questionTitle.message="":(this.questionTitle.message="试题名称不能为空",t=!1),!t){e.next=34;break}return r={},r.title=this.questionTitle.name,r.single={question:this.singleQuestion,answer:n,count:this.singleQuestion.length},r.multiple={question:this.multipleQuestion,answer:s,count:this.multipleQuestion.length},r.judgement={question:this.judgementQuestion,answer:a,count:this.judgementQuestion.length},r.answer={question:this.answerQuestion,answer:i,count:this.answerQuestion.length},r.userName=this.userInfo.name,r.userId=this.userInfo._id,e.prev=22,e.next=25,Q("/api/questions/addQuestion",r);case 25:o=e.sent,200==o.statusCode?(this.$message({type:"success",message:o.message,showClose:!0}),this.resetData()):this.$message({type:"warning",message:o.message,showClose:!0}),e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](22),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 32:e.next=35;break;case 34:this.$message({type:"warning",message:"请完善试题信息",showClose:!0});case 35:case"end":return e.stop()}},e,this,[[22,29]])}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(e){var t=e.key,n=e.index;this[t].splice(n,1)},goBack:function(){this.$router.push({name:"consultQuestions"})},back:function(e){this.questionTitle.name||0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion?this.openMessageBox(e):e&&"function"==typeof e&&e()},openMessageBox:function(e){this.$confirm("试卷还没保存, 是否放弃保存并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&"function"==typeof e&&e()}).catch(function(){})},openFile:function(){document.getElementById("file").click()},upload:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(t){var n,s,a,i,r,o,l,c,u,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.files[0],s=n.name,a=/(\.(xls)|(xlsx))$/i,i=s.replace(/(.*\/)*([^.]+).*/gi,"$2"),!a.test(s)){e.next=14;break}return r=new FormData,r.append("file",n),e.next=10,Q("/api/upload/uploadFile",r);case 10:if(o=e.sent,200==o.statusCode){for(u in l=o.data.question,this.questionTitle.name||(this.questionTitle.name=i),c=function(e){l[e].forEach(function(t){m["".concat(e,"Question")].push(t)})},l)c(u);o.message?this.$message({type:"error",message:o.message,showClose:!0}):this.$message({type:"success",message:"试题解析成功",showClose:!0})}else this.$message({type:"error",message:o.message,showClose:!0});e.next=15;break;case 14:this.$message({type:"warning",message:"文件格式不正确,请选择后缀为xls或者xlsx的文件",showClose:!0});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(t){return e.apply(this,arguments)}return t}(),resetData:function(){this.questionTitle={name:"",message:""},this.singleQuestion=[],this.multipleQuestion=[],this.judgementQuestion=[],this.answerQuestion=[]},downLoadTemplate:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t="/api/downLoad/downLoadTemplate",window.open(t)}catch(n){this.$message({showClose:!0,type:"error",message:n.toString()})}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:Object(f["a"])({},Object(b["b"])(["userInfo"])),beforeRouteLeave:function(e,t,n){this.back(function(){n()})}}),Re=ze,Ue=(n("1f30"),Object(l["a"])(Re,De,Ne,!1,null,"78516c90",null)),Me=Ue.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),n("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{align:"center",prop:"singleCount",label:"单选题数量"}}),n("el-table-column",{attrs:{prop:"multipleCount",align:"center",label:"多选题数量"}}),n("el-table-column",{attrs:{prop:"judgementCount",align:"center",label:"判断题数量"}}),n("el-table-column",{attrs:{prop:"answerCount",align:"center",label:"简答题数量"}}),n("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总数量"}}),n("el-table-column",{attrs:{align:"center",prop:"createTime",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"flex-row"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),n("el-button",{attrs:{size:"small",type:"success"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),n("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(n){return e.handleComment(t.$index,t.row)}}},[e._v("查看评论")])],1)]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Je=[],Ve={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,$("/api/questions/getPublishedQuestion",t);case 13:n=e.sent,200==n.statusCode?(this.questionsList=n.data.publishedQuestion,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e,t){this.$router.push({name:"editQuestion",params:{id:t._id}})},handleDelete:function(e,t){var n=this;this.$confirm("确定删除试卷?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q("/api/questions/deleteQuestion",{_id:t._id});case 3:s=e.sent,200==s.statusCode?(n.$message({showClose:!0,type:"success",message:s.message}),n.getQuestionList()):n.$message({showClose:!0,type:"warning",message:s.message}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n.$message({showClose:!0,type:"error",message:e.t0.toString()});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).catch(function(){})},handleComment:function(e,t){this.$router.push({name:"commentList",params:{id:t._id}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},We=Ve,He=(n("c320"),Object(l["a"])(We,Fe,Je,!1,null,"c063960e",null)),Ze=He.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"time"},[e._v("时间："),n("span",{staticStyle:{color:"red"}},[e._v(e._s(e.showTime))])]),n("div",[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),n("span",{staticClass:"font24"},[e._v(e._s(e.title))])])]),n("Single",{attrs:{isAnswer:e.isAnswer,singleQuestion:e.singleQuestion}}),n("Multiple",{attrs:{isAnswer:e.isAnswer,multipleQuestion:e.multipleQuestion}}),n("Judgement",{attrs:{isAnswer:e.isAnswer,judgementQuestion:e.judgementQuestion}}),n("Answer",{attrs:{isAnswer:e.isAnswer,answerQuestion:e.answerQuestion}}),n("div",{staticClass:"mt20"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),n("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},Xe=[],Ye={data:function(){return{title:"",singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],isAnswer:!0,time:0,isCanGoback:!1}},methods:{submit:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,n={},this.singleQuestion.forEach(function(e){var s=null;e.answer||(s="该题还没有完成"),s?t=!1:n[e.id]=e.answer,e.message=s}),this.multipleQuestion.forEach(function(e){var s=null;0==e.answer.length&&(s="该题还没有完成"),s?t=!1:n[e.id]=e.answer,e.message=s}),this.judgementQuestion.forEach(function(e){var s=null;e.answer||(s="该题还没有完成"),s?t=!1:n[e.id]=e.answer,e.message=s}),this.answerQuestion.forEach(function(e){var s=null;e.answer||(s="该题还没有完成"),s?t=!1:n[e.id]=e.answer,e.message=s}),!t){e.next=24;break}return s={},s.title=this.title,s.answer=n,s.userName=this.userInfo.name,s.userId=this.userInfo._id,s.questionId=this.$route.params.id,s.answerTime=this.showTime,e.prev=14,e.next=17,Q("/api/questions/submitQuestion",s);case 17:a=e.sent,200==a.statusCode?(this.$message({type:"success",message:a.message,showClose:!0}),this.isCanGoback=!0,this.$router.replace({name:"consultQuestions"})):this.$message({type:"warning",message:a.message,showClose:!0}),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](14),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 24:case"end":return e.stop()}},e,this,[[14,21]])}));function t(){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.push({name:"consultQuestions"})},initTime:function(){var e=this;this.timer=setInterval(function(){e.time++},1e3)}},created:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,$("/api/questions/getQuestionById/"+t);case 4:n=e.sent,200==n.statusCode?(this.title=n.data.questionList.title,this.singleQuestion=n.data.questionList.singleQuestion,this.multipleQuestion=n.data.questionList.multipleQuestion,this.judgementQuestion=n.data.questionList.judgementQuestion,this.answerQuestion=n.data.questionList.answerQuestion,this.initTime()):this.$message({type:"warning",message:n.message,showClose:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.timer&&clearInterval(this.timer)},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]),{showTime:function(){var e=this.time%60;e=e<10?"0".concat(e):e;var t=parseInt(this.time/60)%60;t=t<10?"0".concat(t):t;var n=parseInt(this.time/60/60)%24;return n=n<10?"0".concat(n):n,"".concat(n,"：").concat(t,"：").concat(e)}}),beforeRouteLeave:function(e,t,n){if(this.isCanGoback)n();else{var s=!0;s&&this.singleQuestion.forEach(function(e){e.answer&&(s=!1)}),s&&this.multipleQuestion.forEach(function(e){0!=e.answer.length&&(s=!1)}),s&&this.judgementQuestion.forEach(function(e){e.answer&&(s=!1)}),s&&this.answerQuestion.forEach(function(e){e.answer&&(s=!1)}),s?n():this.$confirm("试卷还没提交, 是否放弃提交并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n()}).catch(function(){})}}},Ke=Ye,et=(n("fcfe"),Object(l["a"])(Ke,Ge,Xe,!1,null,"3b3b52be",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",[n("div",{staticClass:"flex-row flex-center"},[n("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),n("el-input",{attrs:{clearable:"",placeholder:"请输入试题名称"},model:{value:e.questionTitle.name,callback:function(t){e.$set(e.questionTitle,"name","string"===typeof t?t.trim():t)},expression:"questionTitle.name"}})],1),n("div",{staticStyle:{margin:"10px 0 0 100px"}},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(e.questionTitle.message))])])]),n("Single",{attrs:{singleQuestion:e.singleQuestion},on:{addSingle:e.addSingle,deleteItem:e.deleteItem}}),n("Multiple",{attrs:{multipleQuestion:e.multipleQuestion},on:{addMultiple:e.addMultiple,deleteItem:e.deleteItem}}),n("Judgement",{attrs:{judgementQuestion:e.judgementQuestion},on:{addJudgement:e.addJudgement,deleteItem:e.deleteItem}}),n("Answer",{attrs:{answerQuestion:e.answerQuestion},on:{addAnswer:e.addAnswer,deleteItem:e.deleteItem}}),n("div",{staticClass:"mt20"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),n("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},st=[],at={data:function(){return{questionTitle:{name:"",message:""},singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],_id:"",isEdit:!1,isSave:!1}},created:function(){this.getQuestionDetail()},methods:{getQuestionDetail:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,$("/api/questions/getPublishedQuestionById/"+t);case 4:n=e.sent,200==n.statusCode?(this.questionTitle.name=n.data.questionDetail.title,this.singleQuestion=n.data.questionDetail.single,this.multipleQuestion=n.data.questionDetail.multiple,this.judgementQuestion=n.data.questionDetail.judgement,this.answerQuestion=n.data.questionDetail.answer):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:return e.prev=11,this.$nextTick(function(){s.isEdit=!1}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));function t(){return e.apply(this,arguments)}return t}(),addSingle:function(){var e=Date.now().toString();this.singleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:"",message:""})},addMultiple:function(){var e=Date.now().toString();this.multipleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:[],message:""})},addJudgement:function(){var e=Date.now().toString();this.judgementQuestion.push({id:e,title:"",answer:"",message:""})},addAnswer:function(){var e=Date.now().toString();this.answerQuestion.push({id:e,title:"",answer:"",message:""})},save:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n,s,a,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion){e.next=3;break}return this.$message({showClose:!0,message:"试卷至少要有一道试题",type:"warning"}),e.abrupt("return");case 3:if(t=!0,n={},s={},a={},i={},this.singleQuestion.forEach(function(e){var s=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer||(s="请选择一个正确答案"):s="选项不能为空":s="题目不能为空",s?t=!1:n[e.id]=e.answer,e.message=s}),this.multipleQuestion.forEach(function(e){var n=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer.length<=1&&(n="请选择两个或两个以上正确答案"):n="选项不能为空":n="题目不能为空",n?t=!1:s[e.id]=e.answer.sort().toString(),e.message=n}),this.judgementQuestion.forEach(function(e){var n=null;e.title?e.answer||(n="请选择一个正确答案"):n="题目不能为空",n?t=!1:a[e.id]=e.answer,e.message=n}),this.answerQuestion.forEach(function(e){var n=null;e.title?e.answer||(n="请填写正确答案"):n="题目不能为空",n?t=!1:i[e.id]=e.answer,e.message=n}),this.questionTitle.name?this.questionTitle.message="":(this.questionTitle.message="试题名称不能为空",t=!1),!t){e.next=35;break}return r={},r.title=this.questionTitle.name,r.single={question:this.singleQuestion,answer:n,count:this.singleQuestion.length},r.multiple={question:this.multipleQuestion,answer:s,count:this.multipleQuestion.length},r.judgement={question:this.judgementQuestion,answer:a,count:this.judgementQuestion.length},r.answer={question:this.answerQuestion,answer:i,count:this.answerQuestion.length},r.userName=this.userInfo.name,r.userId=this.userInfo._id,r._id=this.$route.params.id,e.prev=23,e.next=26,Q("/api/questions/editQuestion",r);case 26:o=e.sent,200==o.statusCode?(this.$message({type:"success",message:o.message,showClose:!0}),this.isSave=!0,this.$router.back()):this.$message({type:"warning",message:o.message,showClose:!0}),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](23),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 33:e.next=36;break;case 35:this.$message({type:"warning",message:"请完善试题信息",showClose:!0});case 36:case"end":return e.stop()}},e,this,[[23,30]])}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(e){var t=e.key,n=e.index;this[t].splice(n,1)},goBack:function(){this.$router.push({name:"publishedQuestions"})},back:function(e){(this.questionTitle.name||0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion)&&this.isEdit?this.openMessageBox(e):e&&"function"==typeof e&&e()},openMessageBox:function(e){this.$confirm("试卷还没保存, 是否放弃保存并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&"function"==typeof e&&e()}).catch(function(){})}},beforeRouteLeave:function(e,t,n){this.isSave?n():this.back(function(){n()})},watch:{questionTitle:{deep:!0,handler:function(){this.isEdit=!0}},singleQuestion:{deep:!0,handler:function(){this.isEdit=!0}},multipleQuestion:{deep:!0,handler:function(){this.isEdit=!0}},judgementQuestion:{deep:!0,handler:function(){this.isEdit=!0}},answerQuestion:{deep:!0,handler:function(){this.isEdit=!0}}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},it=at,rt=(n("eaa6"),Object(l["a"])(it,nt,st,!1,null,"ab3fd2b4",null)),ot=rt.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("el-dialog",{attrs:{title:"评论",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.commentInfo,callback:function(t){e.commentInfo=t},expression:"commentInfo"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)]),n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),n("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("填写时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[n("el-table-column",{attrs:{type:"index",width:"20"}}),n("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"single",align:"center",label:"单选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.single.singleCorrect+" / "+t.row.single.singleCount))])]}}])}),n("el-table-column",{attrs:{prop:"multiple",align:"center",label:"多选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.multiple.multipleCorrect+" / "+t.row.multiple.multipleCount))])]}}])}),n("el-table-column",{attrs:{prop:"judgement",align:"center",label:"判断题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.judgement.judgementCorrect+" / "+t.row.judgement.judgementCount))])]}}])}),n("el-table-column",{attrs:{prop:"answer",align:"center",label:"简答题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.answer.answerCorrect+" / "+t.row.answer.answerCount))])]}}])}),n("el-table-column",{attrs:{prop:"correctCount",align:"center",label:"正确题数"}}),n("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总题数"}}),n("el-table-column",{attrs:{prop:"correctPercent",align:"center",label:"答对率"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("numToPercent")(t.row.correctPercent)))])]}}])}),n("el-table-column",{attrs:{prop:"userName",align:"center",label:"发布者"}}),n("el-table-column",{attrs:{prop:"createTime",align:"center",label:"填写时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),n("el-table-column",{attrs:{prop:"answerTime",align:"center",label:"完成时间"}}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"success",disabled:t.row.isComment},on:{click:function(n){return e.comment(t.$index,t.row)}}},[e._v(e._s(t.row.isComment?"已评论":"评论"))]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)},ct=[],ut=n("af89"),mt=n.n(ut),dt={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",beginTime:"",endTime:"",dialogVisible:!1,questionId:"",commentInfo:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,$("/api/questions/getAnswerQuestion",t);case 13:n=e.sent,200==n.statusCode?(this.questionsList=n.data.answerList,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerDetail",params:{id:t.answerId}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},comment:function(e,t){this.questionId=t.questionId,this.dialogVisible=!0},ok:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.commentInfo){e.next=6;break}return this.$message({showClose:!0,message:"评论内容不能为空",type:"warning"}),e.abrupt("return");case 6:return t={userName:this.userInfo.name,content:mt()(this.commentInfo),questionId:this.questionId,userId:this.userInfo._id},e.next=9,Q("/api/comment/submitComment",t);case 9:n=e.sent,200==n.statusCode?(this.$message({showClose:!0,message:n.message,type:"success"}),this.getQuestionList()):this.$message({showClose:!0,message:"评论失败",type:"error"}),this.dialogVisible=!1,this.commentInfo="";case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"}),this.commentInfo="",this.dialogVisible=!1;case 20:case"end":return e.stop()}},e,this,[[0,15]])}));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e=this;this.commentInfo?this.$confirm("确认取消评论？").then(function(t){e.questionId="",e.commentInfo="",e.dialogVisible=!1}).catch(function(e){}):(this.questionId="",this.dialogVisible=!1)},handleClose:function(e){var t=this;this.commentInfo?this.$confirm("确认取消评论？").then(function(n){t.questionId="",t.commentInfo="",e()}).catch(function(e){}):e()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},pt=dt,gt=(n("f3d4"),Object(l["a"])(pt,lt,ct,!1,null,"b4c1a238",null)),ft=gt.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),n("span",{staticClass:"font24"},[e._v(e._s(e.title))])])]),n("Single",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,singleQuestion:e.singleQuestion}}),n("Multiple",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,multipleQuestion:e.multipleQuestion}}),n("Judgement",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,judgementQuestion:e.judgementQuestion}}),n("Answer",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,answerQuestion:e.answerQuestion}}),n("div",{staticClass:"mt20"},[n("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},bt=[],wt={data:function(){return{title:"",singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],isAnswer:!0,disabled:!0}},methods:{goBack:function(){this.$router.back()}},created:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,$("/api/questions/getAnswerQuestionById/"+t);case 4:n=e.sent,200==n.statusCode?(this.title=n.data.answerDetail.title,this.singleQuestion=n.data.answerDetail.single.question,this.multipleQuestion=n.data.answerDetail.multiple.question,this.judgementQuestion=n.data.answerDetail.judgement.question,this.answerQuestion=n.data.answerDetail.answer.question):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},vt=wt,xt=(n("bc88"),Object(l["a"])(vt,ht,bt,!1,null,"cb820056",null)),yt=xt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("评论者 : ")]),n("el-input",{attrs:{placeholder:"请输入评论者姓名",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("评论内容 : ")]),n("el-input",{attrs:{placeholder:"请输入评论内容",clearable:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getCommentList}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.commentList}},[n("el-table-column",{attrs:{type:"index"}}),n("el-table-column",{attrs:{prop:"userName",align:"center",label:"评论者"}}),n("el-table-column",{attrs:{prop:"content","show-overflow-tooltip":!0,align:"center",label:"评论内容"}}),n("el-table-column",{attrs:{prop:"createTime",align:"center",label:"评论时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},_t=[],kt={data:function(){return{commentList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",content:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getCommentList()},methods:{getCommentList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.content&&(t.content=this.content),this.userName&&(t.userName=this.userName),t.pageSize=this.pageSize,t.currentPage=this.currentPage,e.next=13,$("/api/comment/getCommentList/"+this.$route.params.id,t);case 13:n=e.sent,200==n.statusCode?(this.commentList=n.data.commentList,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerQuestion",params:t})},handleCurrentChange:function(e){this.currentPage=e,this.getCommentList()},goBack:function(){this.$router.back()}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},$t=kt,Qt=(n("ac7e"),Object(l["a"])($t,Ct,_t,!1,null,"27cacafa",null)),Tt=Qt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),n("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.getQuestionList}},[e._v("查询")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{align:"center",prop:"answerCount",label:"答题总人数"}}),n("el-table-column",{attrs:{prop:"percent",align:"center",label:"整体正确率"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("numToPercent")(t.row.percent)))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"createTime",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary",disabled:0==t.row.answerCount},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("查看统计")]),n("el-button",{attrs:{size:"small",type:"success",disabled:0==t.row.answerCount},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v("查看答题者")])]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},It=[],St={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,$("/api/statistics/statisticsQuestions",t);case 13:n=e.sent,200==n.statusCode?(this.questionsList=n.data.list,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e,t){this.$router.push({name:"statisticsDetail",params:{id:t.questionId}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},handleClick:function(e,t){this.$router.push({name:"answerUserList",params:{id:t.questionId}})}},computed:Object(f["a"])({},Object(b["b"])(["userInfo"]))},At=St,qt=(n("1ece"),Object(l["a"])(At,jt,It,!1,null,"92340286",null)),Ot=qt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("el-dialog",{attrs:{title:"饼状图",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("v-chart",{attrs:{options:e.polar}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),n("div",[n("h3",[e._v("单选题")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.single}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"A",align:"center",label:"A"}}),n("el-table-column",{attrs:{align:"center",prop:"B",label:"B"}}),n("el-table-column",{attrs:{align:"center",prop:"C",label:"C"}}),n("el-table-column",{attrs:{align:"center",prop:"D",label:"D"}}),n("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),n("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),n("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),n("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),n("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),n("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),n("div",{staticClass:"mt20"},[n("h3",[e._v("多选题")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.multiple}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"A",align:"center",label:"A"}}),n("el-table-column",{attrs:{align:"center",prop:"B",label:"B"}}),n("el-table-column",{attrs:{align:"center",prop:"C",label:"C"}}),n("el-table-column",{attrs:{align:"center",prop:"D",label:"D"}}),n("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),n("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),n("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),n("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),n("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),n("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),n("div",{staticClass:"mt20"},[n("h3",[e._v("判断题")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.judgement}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"A",align:"center",label:"对"}}),n("el-table-column",{attrs:{align:"center",prop:"B",label:"错"}}),n("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),n("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s("A"==t.row.correctAnswer?"对":"错"))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),n("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),n("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),n("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.handleJudgement(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),n("div",{staticClass:"mt20"},[n("h3",[e._v("简答题")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.answer}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),n("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),n("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),n("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),n("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),n("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),n("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return e.handleAnswer(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),n("div",{staticClass:"mt30"},[n("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},Et=[],Lt={data:function(){return{answer:[],judgement:[],multiple:[],single:[],dialogVisible:!1,polar:{}}},created:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,$("/api/statistics/statisticsQuestionsById/"+t);case 4:n=e.sent,200==n.statusCode?(this.answer=n.data.list.answer,this.judgement=n.data.list.judgement,this.multiple=n.data.list.multiple,this.single=n.data.list.single):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{goBack:function(){this.$router.back()},handleClick:function(e,t){var n={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["A","B","C","D"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.A,name:"A"},{value:t.B,name:"B"},{value:t.C,name:"C"},{value:t.D,name:"D"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=n,this.dialogVisible=!0},handleJudgement:function(e,t){var n={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["对","错"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.A,name:"对"},{value:t.B,name:"错"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=n,this.dialogVisible=!0},handleAnswer:function(e,t){var n={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["正确","错误"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.correctCount,name:"正确"},{value:t.totalNum-t.correctCount,name:"错误"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=n,this.dialogVisible=!0}}},Bt=Lt,Dt=(n("4cce"),Object(l["a"])(Bt,Pt,Et,!1,null,"88b3ef1a",null)),Nt=Dt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-container"},[n("div",{staticClass:"flex-row flex-wrap"},[n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 font18"},[e._v("答题者名称 : ")]),n("el-input",{attrs:{placeholder:"请输入答题者名称",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),n("div",{staticClass:"flex-row flex-center min-width mt10"},[n("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("填写时间 : ")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),n("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("div",{staticClass:"flex-row flex-center ml10 mt10"},[n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回")])],1)]),n("div",{staticClass:"mt20"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[n("el-table-column",{attrs:{type:"index",width:"20"}}),n("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),n("el-table-column",{attrs:{prop:"single",align:"center",label:"单选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.single.singleCorrect+" / "+t.row.single.singleCount))])]}}])}),n("el-table-column",{attrs:{prop:"multiple",align:"center",label:"多选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.multiple.multipleCorrect+" / "+t.row.multiple.multipleCount))])]}}])}),n("el-table-column",{attrs:{prop:"judgement",align:"center",label:"判断题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.judgement.judgementCorrect+" / "+t.row.judgement.judgementCount))])]}}])}),n("el-table-column",{attrs:{prop:"answer",align:"center",label:"简答题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.answer.answerCorrect+" / "+t.row.answer.answerCount))])]}}])}),n("el-table-column",{attrs:{prop:"correctCount",align:"center",label:"正确题数"}}),n("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总题数"}}),n("el-table-column",{attrs:{prop:"correctPercent",align:"center",label:"答对率"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("numToPercent")(t.row.correctPercent)))])]}}])}),n("el-table-column",{attrs:{prop:"userName",align:"center",label:"答题者"}}),n("el-table-column",{attrs:{prop:"createTime",align:"center",label:"填写时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),n("el-table-column",{attrs:{prop:"answerTime",align:"center",label:"完成时间"}}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e.total>10?n("div",{staticClass:"text-center my-pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Rt=[],Ut={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",userName:"",beginTime:"",endTime:"",questionId:""}},created:function(){this.getAnswerList()},methods:{getAnswerList:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.$route.params.id,n={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=6;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 6:return this.beginTime&&(n.beginTime=this.beginTime),this.endTime&&(n.endTime=this.endTime),this.userName&&(n.userName=this.userName),n.pageSize=this.pageSize,n.currentPage=this.currentPage,e.next=13,$("/api/statistics/getAnswerUserById/"+t,n);case 13:s=e.sent,200==s.statusCode?(this.questionsList=s.data.answerList,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerDetail",params:{id:t.answerId}})},handleCurrentChange:function(e){this.currentPage=e,this.getAnswerList()},search:function(){this.currentPage=1,this.getAnswerList()},goBack:function(){this.$router.back()}}},Mt=Ut,Ft=(n("0856"),Object(l["a"])(Mt,zt,Rt,!1,null,"4de7b61a",null)),Jt=Ft.exports,Vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"not-found",on:{click:e.goToHome}},[s("img",{attrs:{src:n("2c81"),alt:""}})])},Wt=[],Ht={methods:{goToHome:function(){this.$router.replace({name:"home"})}}},Zt=Ht,Gt=(n("979c"),Object(l["a"])(Zt,Vt,Wt,!1,null,"1e4455b0",null)),Xt=Gt.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bg"}},[n("router-view")],1)},Kt=[],en=function(){function e(e){return document.getElementsByTagName(e)}function t(t){t=t||{};e("html")[0];var a=document.getElementById(t.targetId),i=document.createElement("canvas"),r={element:i,points:[],config:{vx:t.vx||4,vy:t.vy||4,height:t.height||2,width:t.width||2,count:t.count||100,color:t.color||"121, 162, 185",stroke:t.stroke||"130,255,255",dist:t.dist||6e3,e_dist:t.e_dist||2e4,max_conn:10}};if(!r.element.getContext("2d"))return null;r.context=r.element.getContext("2d"),a.style.padding="0",a.style.margin="0",a.appendChild(r.element),r.element.style="position: fixed; top: 0; left: 0; z-index: -1;",n(r.element,t),window.onresize=function(){n(r.element,t)},a.onmousemove=function(e){var t=e||window.event;r.mouse={x:t.clientX,y:t.clientY}},document.onmouseleave=function(){r.mouse=void 0},setInterval(function(){s(r)},40)}function n(e,t){var n=document.getElementById(t.targetId).style.width,s=document.getElementById(t.targetId).style.height;n=parseInt(n),s=parseInt(s),e.width=n||window.innerWeight||document.documentElement.clientWidth||document.body.clientWidth,e.height=s||window.innerWeight||document.documentElement.clientHeight||document.body.clientHeight}function s(e){var t,n=e.context;n.clearRect(0,0,e.element.width,e.element.height),n.beginPath(),n.fillStyle="rgb("+e.config.color+")";for(var s=0,r=e.config.count;s<r;s++)t=e.points.length!=e.config.count?{x:Math.floor(Math.random()*e.element.width),y:Math.floor(Math.random()*e.element.height),vx:e.config.vx/2-Math.random()*e.config.vx,vy:e.config.vy/2-Math.random()*e.config.vy}:a(e.points[s],e),n.fillRect(t.x-e.config.width/2,t.y-e.config.height/2,e.config.width,e.config.height),e.points[s]=t;i(n,e,e.mouse),n.closePath()}function a(e,t){var n=e;return e.x<=0||e.x>=t.element.width?(n.vx=-n.vx,n.x+=n.vx):e.y<=0||e.y>=t.element.height?(n.vy=-n.vy,n.y+=n.vy):n={x:n.x+n.vx,y:n.y+n.vy,vx:n.vx,vy:n.vy},n}function i(e,t,n){var s=null;e=e||t.context;for(var a=0,i=t.config.count;a<i;a++){t.points[a].max_conn=0;for(var r=0;r<i;r++)a!=r&&(s=Math.round(t.points[a].x-t.points[r].x)*Math.round(t.points[a].x-t.points[r].x)+Math.round(t.points[a].y-t.points[r].y)*Math.round(t.points[a].y-t.points[r].y),s<=t.config.dist&&t.points[a].max_conn<t.config.max_conn&&(t.points[a].max_conn++,e.lineWidth=.5-s/t.config.dist,e.strokeStyle="rgba("+t.config.stroke+","+(1-s/t.config.dist)+")",e.beginPath(),e.moveTo(t.points[a].x,t.points[a].y),e.lineTo(t.points[r].x,t.points[r].y),e.stroke()));n&&(s=Math.round(t.points[a].x-n.x)*Math.round(t.points[a].x-n.x)+Math.round(t.points[a].y-n.y)*Math.round(t.points[a].y-n.y),s>t.config.dist&&s<=t.config.e_dist&&(t.points[a].x=t.points[a].x+(n.x-t.points[a].x)/20,t.points[a].y=t.points[a].y+(n.y-t.points[a].y)/20),s<=t.config.e_dist&&(e.lineWidth=1,e.strokeStyle="rgba("+t.config.stroke+","+(1-s/t.config.e_dist)+")",e.beginPath(),e.moveTo(t.points[a].x,t.points[a].y),e.lineTo(n.x,n.y),e.stroke()))}}return t}(),tn=en,nn={name:"Mbg",mounted:function(){var e={vx:4,vy:4,height:2,width:2,count:200,color:"121, 162, 185",stroke:"130,255,255",dist:6e3,e_dist:2e4,max_conn:10,targetId:"bg"};tn(e)}},sn=nn,an=(n("e46c"),Object(l["a"])(sn,Yt,Kt,!1,null,"76740b80",null)),rn=an.exports;i["default"].use(d["a"]);var on=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"/",redirect:"/login"},{path:"/bg",name:"bg",component:rn,children:[{path:"/login",name:"login",component:O},{path:"/register",name:"register",component:M}]},{path:"/index",name:"index",component:le,children:[{path:"/index",redirect:"/home"},{path:"/home",name:"home",component:pe},{path:"/updatePwd",name:"updatePwd",component:ve},{path:"/updateName",name:"updateName",component:$e},{path:"/userInfo",name:"userInfo",component:Ae},{path:"/consultQuestions",name:"consultQuestions",component:Be},{path:"/addQuestion",name:"addQuestion",component:Me},{path:"/publishedQuestions",name:"publishedQuestions",component:Ze},{path:"/answerQuestion/:id",name:"answerQuestion",component:tt},{path:"/editQuestion/:id",name:"editQuestion",component:ot},{path:"/answeredList",name:"answeredList",component:ft},{path:"/answerDetail/:id",name:"answerDetail",component:yt},{path:"/commentList/:id",name:"commentList",component:Tt},{path:"/questionsStatistics",name:"questionsStatistics",component:Ot},{path:"/statisticsDetail/:id",name:"statisticsDetail",component:Nt},{path:"/answerUserList/:id",name:"answerUserList",component:Jt}]},{path:"*",name:"notFound",component:Xt}]}),ln=H["a"].session.get("userInfo",{}),cn={userInfo:ln},un=cn,mn=function(e){return e.userInfo},dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H["a"].session.set("userInfo",t),e.userInfo=t};i["default"].use(b["a"]);var pn=new b["a"].Store({state:un,mutations:a,getters:s}),gn=n("e1bc");Object(gn["a"])("".concat("/","service-worker.js?data=").concat(Date.now()),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("fd38"),n("e719"),n("5b17"),n("141b");var fn=n("a5ff"),hn=(n("3c1d"),n("11af"),n("f4af"),n("d8bf"),n("9aca"),n("2ad9"),n("15a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"solt"},[e._t("default")],2)])}),bn=[],wn=(n("6cb4"),{}),vn=Object(l["a"])(wn,hn,bn,!1,null,"96e3bb56",null),xn=vn.exports,yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt20"},[n("h1",{staticClass:"font20"},[e._v("一、单选题")]),e.isAnswer&&0==e.singleQuestion.length?n("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.singleQuestion,function(t,s){return n("div",{key:s,staticClass:"mt30"},[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"font18"},[e._v(e._s(s+1)+"、")]),e.isAnswer?e._e():n("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(n){e.$set(t,"title","string"===typeof n?n.trim():n)},expression:"question.title"}}),e.isAnswer?n("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),n("div",{staticClass:"mt20 ml20"},e._l(t.options,function(s,a){return n("div",{key:a,staticClass:"mb10 flex-row"},[n("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:a},model:{value:t.answer,callback:function(n){e.$set(t,"answer","string"===typeof n?n.trim():n)},expression:"question.answer"}},[e._v(e._s(a))]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.options[a],callback:function(n){e.$set(t.options,a,"string"===typeof n?n.trim():n)},expression:"question.options[option]"}}),e.isAnswer?n("span",{staticClass:"font18"},[e._v(e._s(t.options[a]))]):e._e()],1)}),0),n("div",{staticClass:"mt20 flex-row item"},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():n("span",{staticClass:"deleteItem",on:{click:function(t){return e.deleteItem("singleQuestion",s)}}},[e._v("删除")])])])}),e.isAnswer?e._e():n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addSingle}},[e._v("添加单选题")])],2)},Cn=[],_n={props:{singleQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addSingle:function(){this.$emit("addSingle")}}},kn=_n,$n=Object(l["a"])(kn,yn,Cn,!1,null,null,null),Qn=$n.exports,Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt20"},[n("h1",{staticClass:"font20"},[e._v("二、多选题")]),e.isAnswer&&0==e.multipleQuestion.length?n("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.multipleQuestion,function(t,s){return n("div",{key:s,staticClass:"mt30"},[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"font18"},[e._v(e._s(s+1)+"、")]),e.isAnswer?e._e():n("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(n){e.$set(t,"title","string"===typeof n?n.trim():n)},expression:"question.title"}}),e.isAnswer?n("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),n("div",{staticClass:"mt20 ml20"},e._l(t.options,function(s,a){return n("div",{key:a,staticClass:"mb10 flex-row align-items"},[n("el-checkbox",{staticClass:"mr20",attrs:{disabled:e.disabled,label:a},model:{value:t.answer,callback:function(n){e.$set(t,"answer","string"===typeof n?n.trim():n)},expression:"question.answer"}},[e._v(e._s(a))]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.options[a],callback:function(n){e.$set(t.options,a,"string"===typeof n?n.trim():n)},expression:"question.options[option]"}}),e.isAnswer?n("span",{staticClass:"font18"},[e._v(e._s(t.options[a]))]):e._e()],1)}),0),n("div",{staticClass:"mt20 flex-row item"},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():n("div",{staticClass:"deleteItem",on:{click:function(t){return e.deleteItem("multipleQuestion",s)}}},[e._v("删除")])])])}),e.isAnswer?e._e():n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addMultiple}},[e._v("添加多选题")])],2)},jn=[],In={props:{multipleQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addMultiple:function(){this.$emit("addMultiple")}}},Sn=In,An=Object(l["a"])(Sn,Tn,jn,!1,null,null,null),qn=An.exports,On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt20"},[n("h1",{staticClass:"font20"},[e._v("三、判断题")]),e.isAnswer&&0==e.judgementQuestion.length?n("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.judgementQuestion,function(t,s){return n("div",{key:s,staticClass:"mt30"},[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"font18"},[e._v(e._s(s+1)+"、")]),e.isAnswer?e._e():n("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(n){e.$set(t,"title","string"===typeof n?n.trim():n)},expression:"question.title"}}),e.isAnswer?n("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),n("div",{staticClass:"mt20 flex-row",style:{"margin-left":e.isAnswer?"30px":"88px"}},[n("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:"A"},model:{value:t.answer,callback:function(n){e.$set(t,"answer","string"===typeof n?n.trim():n)},expression:"question.answer"}},[e._v("对")]),n("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:"B"},model:{value:t.answer,callback:function(n){e.$set(t,"answer","string"===typeof n?n.trim():n)},expression:"question.answer"}},[e._v("错")])],1),n("div",{staticClass:"mt20 flex-row item"},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():n("span",{staticClass:"deleteItem",on:{click:function(t){return e.deleteItem("judgementQuestion",s)}}},[e._v("删除")])])])}),e.isAnswer?e._e():n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addJudgement}},[e._v("添加判断题")])],2)},Pn=[],En={props:{judgementQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addJudgement:function(){this.$emit("addJudgement")}}},Ln=En,Bn=Object(l["a"])(Ln,On,Pn,!1,null,null,null),Dn=Bn.exports,Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt20"},[n("h1",{staticClass:"font20"},[e._v("四、问答题")]),e.isAnswer&&0==e.answerQuestion.length?n("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.answerQuestion,function(t,s){return n("div",{key:s,staticClass:"mt30"},[n("div",{staticClass:"flex-row align-items"},[n("span",{staticClass:"font18"},[e._v(e._s(s+1)+"、")]),e.isAnswer?e._e():n("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():n("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(n){e.$set(t,"title","string"===typeof n?n.trim():n)},expression:"question.title"}}),e.isAnswer?n("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),n("div",{staticClass:"mt20 flex-row",style:{"margin-left":e.isAnswer?"30px":"88px"}},[n("el-input",{attrs:{disabled:e.disabled,type:"textarea",placeholder:"请输入内容"},model:{value:t.answer,callback:function(n){e.$set(t,"answer","string"===typeof n?n.trim():n)},expression:"question.answer"}})],1),n("div",{staticClass:"mt20 flex-row item"},[n("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():n("span",{staticClass:"deleteItem",on:{click:function(t){return e.deleteItem("answerQuestion",s)}}},[e._v("删除")])])])}),e.isAnswer?e._e():n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addAnswer}},[e._v("添加简答题")])],2)},zn=[],Rn={props:{answerQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addAnswer:function(){this.$emit("addAnswer")}}},Un=Rn,Mn=Object(l["a"])(Un,Nn,zn,!1,null,null,null),Fn=Mn.exports;i["default"].use(y.a),i["default"].component("v-chart",fn["a"]),i["default"].filter("formatDate",B),i["default"].filter("numToPercent",D),i["default"].component("bg",xn),i["default"].component("Single",Qn),i["default"].component("Multiple",qn),i["default"].component("Answer",Fn),i["default"].component("Judgement",Dn),v.a.interceptors.request.use(function(e){var t=e.url;if(!T.some(function(e){return t.startsWith(e)})){var n=window.sessionStorage.getItem("token")||"";e.headers.token=n}return e}),v.a.interceptors.response.use(function(e){if(401==e.data.statusCode)window.sessionStorage.removeItem("token"),pn.commit("setUserInfo",{}),on.replace({name:"login"});else{var t=e.headers.token;t&&window.sessionStorage.setItem("token",t)}return e}),i["default"].config.productionTip=!1,on.beforeEach(function(e,t,n){pn.state.userInfo._id?n():"login"==e.name||"register"==e.name?n():n({name:"login"})}),new i["default"]({router:on,store:pn,mounted:function(){document.dispatchEvent(new Event("render-event"))},render:function(e){return e(m)}}).$mount("#app")},"57c0":function(e,t,n){},5878:function(e,t,n){},"5a65":function(e,t,n){},"6cb4":function(e,t,n){"use strict";var s=n("511d"),a=n.n(s);a.a},"72df":function(e,t,n){"use strict";var s=n("ff7a"),a=n.n(s);a.a},7800:function(e,t,n){"use strict";var s=n("9efc"),a=n.n(s);a.a},"7c55":function(e,t,n){"use strict";var s=n("3337"),a=n.n(s);a.a},"7de2":function(e,t,n){},"843a":function(e,t,n){},"8f58":function(e,t,n){},9202:function(e,t,n){},"979c":function(e,t,n){"use strict";var s=n("2bf2"),a=n.n(s);a.a},"9efc":function(e,t,n){},"9fb1":function(e,t,n){"use strict";var s=n("32e3"),a=n.n(s);a.a},a6ae:function(e,t,n){},ac7e:function(e,t,n){"use strict";var s=n("4bdc"),a=n.n(s);a.a},bc88:function(e,t,n){"use strict";var s=n("9202"),a=n.n(s);a.a},bd32:function(e,t,n){},c320:function(e,t,n){"use strict";var s=n("57c0"),a=n.n(s);a.a},cf05:function(e,t,n){e.exports=n.p+"assets/img/logo.c43f32ce.png"},cfa9:function(e,t,n){"use strict";var s=n("ed7f"),a=n.n(s);a.a},d41d:function(e,t,n){},d749:function(e,t,n){"use strict";var s=n("bd32"),a=n.n(s);a.a},db20:function(e,t,n){},dbb1:function(e,t,n){"use strict";var s=n("051e"),a=n.n(s);a.a},dc3a:function(e,t,n){},df8f:function(e,t,n){},e46c:function(e,t,n){"use strict";var s=n("db20"),a=n.n(s);a.a},e477:function(e,t,n){"use strict";var s=n("dc3a"),a=n.n(s);a.a},e5e7:function(e,t,n){},e719:function(e,t,n){},eaa6:function(e,t,n){"use strict";var s=n("5878"),a=n.n(s);a.a},ed7f:function(e,t,n){},f344:function(e,t,n){"use strict";var s=n("5a65"),a=n.n(s);a.a},f3d4:function(e,t,n){"use strict";var s=n("e5e7"),a=n.n(s);a.a},fcfe:function(e,t,n){"use strict";var s=n("1f07"),a=n.n(s);a.a},fd38:function(e,t,n){},ff7a:function(e,t,n){}});
//# sourceMappingURL=app.78c5a92d.js.map