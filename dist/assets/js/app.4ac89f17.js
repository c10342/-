(function(e){function t(t){for(var n,r,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)r=o[m],a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"042a":function(e,t,s){"use strict";var n=s("b528"),a=s.n(n);a.a},"05a4":function(e,t,s){"use strict";var n=s("c290"),a=s.n(n);a.a},"09e0":function(e,t,s){},"0cfd":function(e,t,s){"use strict";var n=s("bbd1"),a=s.n(n);a.a},1161:function(e,t,s){"use strict";var n=s("6efa"),a=s.n(n);a.a},"141b":function(e,t,s){},"17e5":function(e,t,s){"use strict";var n=s("ef02"),a=s.n(n);a.a},"1dd9":function(e,t,s){},"1f70":function(e,t,s){"use strict";var n=s("edd0"),a=s.n(n);a.a},2186:function(e,t,s){},2383:function(e,t,s){"use strict";var n=s("2186"),a=s.n(n);a.a},"2c81":function(e,t,s){e.exports=s.p+"assets/img/404.9314fb0d.jpg"},"307f":function(e,t,s){"use strict";var n=s("eb1f"),a=s.n(n);a.a},5015:function(e,t,s){},"50e4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var n={};s.r(n),s.d(n,"userInfo",function(){return ns});var a={};s.r(a),s.d(a,"setUserInfo",function(){return as});s("7f7f"),s("a481"),s("f559"),s("cadf"),s("551c"),s("097d");var i=s("a026"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],l=s("2877"),c={},u=Object(l["a"])(c,r,o,!1,null,null,null),m=u.exports,d=s("8c4f"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("section",{staticClass:"form_container",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("loginForm")}}},[e._m(0),s("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginUser,rules:e.rules,"label-width":"60px"}},[s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.loginUser.email,callback:function(t){e.$set(e.loginUser,"email",t)},expression:"loginUser.email"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.loginUser.password,callback:function(t){e.$set(e.loginUser,"password",t)},expression:"loginUser.password"}})],1),s("el-form-item",[s("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){e.submitForm("loginForm")}}},[e._v("登  录")])],1),s("div",{staticClass:"tiparea"},[s("p",[e._v("还没有账号？现在"),s("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1)])],1)],1)])},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"manage_tip"},[s("span",{staticClass:"title"},[e._v("在线答题系统")])])}],f=(s("6b54"),s("96cf"),s("3b8d")),h=s("cebc"),b=s("2f62"),w=s("795b"),v=s.n(w),C=s("bc3a"),_=s.n(C),x=s("5c96"),y=s.n(x),k=null,Q=function(){k=x["Loading"].service({lock:!0,text:"加载中...",background:"rgba(0,0,0,0.7)"})},$=function(){k.close(),k=null},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new v.a(function(n,a){Q(),_.a.get(e,{params:t,headers:s}).then(function(e){200==e.status?n(e.data):a(e.data),$()}).catch(function(e){a(e),$()})})},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new v.a(function(s,n){Q(),_.a.post(e,t).then(function(e){200==e.status?s(e.data):n(e.data),$()}).catch(function(e){n(e),$()})})},S={name:"login",data:function(){return{loginUser:{email:"",password:""},rules:{email:[{type:"email",required:!0,message:"邮箱格式不正确",trigger:"change"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"}]}}},methods:Object(h["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=11;break}return e.prev=1,e.next=4,j("/api/user/login",t.loginUser);case 4:n=e.sent,200==n.statusCode?(t.$message({showClose:!0,message:n.message,type:"success"}),t.setUserInfo(n.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}})},I=S,A=(s("d29b"),Object(l["a"])(I,p,g,!1,null,"5c499d08",null)),q=A.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register"},[s("section",{staticClass:"form_container",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("registerForm")}}},[e._m(0),s("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.registerUser,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerUser.name,callback:function(t){e.$set(e.registerUser,"name",t)},expression:"registerUser.name"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"password2"}},[s("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.registerUser.password2,callback:function(t){e.$set(e.registerUser,"password2",t)},expression:"registerUser.password2"}})],1),s("el-form-item",{attrs:{label:"验证码",prop:"code"}},[s("div",{staticClass:"flex-row"},[s("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.registerUser.code,callback:function(t){e.$set(e.registerUser,"code",t)},expression:"registerUser.code"}}),s("el-button",{staticClass:"code_btn",attrs:{disabled:e.disabled,type:"primary"},on:{click:e.getCode}},[e._v(e._s(e.disabled?e.second+"s":"获取"))])],1)]),s("el-form-item",[s("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){e.submitForm("registerForm")}}},[e._v("注 册")])],1),s("div",{staticClass:"tiparea"},[s("p",[e._v("已经有账号？现在"),s("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1)])],1)],1)])},P=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"manage_tip"},[s("span",{staticClass:"title"},[e._v("在线答题系统")])])}],L=s("0a0d"),E=s.n(L),B=function(e){var t=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return t.test(e)},N=function(e){var t=new Date(e),s=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return n=n<10?"0".concat(n):n,a=a<10?"0".concat(a):a,"".concat(s,"-").concat(n,"-").concat(a)},D=function(e){return e&&e>0?(e=(100*e).toFixed(2),e="".concat(e,"%")):e=0,e};var z=function(){return E()().toString()+Math.random().toString(36).substr(2,6)},R={name:"register",data:function(){var e=this,t=function(t,s,n){s!==e.registerUser.password?n(new Error("两次输入密码不一致!")):n()};return{registerUser:{name:"",email:"",password:"",password2:"",code:""},disabled:!1,second:60,rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:30,message:"用户名长度应为2到30个字符",trigger:"blur"}],email:[{type:"email",required:!0,message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],password2:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"},{validator:t,trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"},{min:4,max:4,message:"验证码长度应为4个字符",trigger:"blur"}]}}},methods:Object(h["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=11;break}return e.prev=1,e.next=4,j("/api/user/register",t.registerUser);case 4:n=e.sent,200==n.statusCode?(t.$message({showClose:!0,message:n.message,type:"success"}),t.setUserInfo(n.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},getCode:function(){var e=this;""!=this.registerUser.email?B(this.registerUser.email)&&(this.disabled=!0,this.timer=setInterval(function(){e.second=e.second-1,0===e.second&&(e.disabled=!1,e.second=60,clearInterval(e.timer))},1e3),T("/api/user/sendCode",{email:this.registerUser.email}).then(function(t){200==t.statusCode?e.$message({showClose:!0,message:t.message,type:"success"}):e.$message({showClose:!0,message:t.message,type:"warning"})}).catch(function(t){e.$message({showClose:!0,message:t.toString(),type:"error"})})):this.$message({showClose:!0,message:"邮箱不能为空",type:"warning"})}}),beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},U=R,F=(s("592c"),Object(l["a"])(U,O,P,!1,null,"17be031d",null)),M=F.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("HeadNav"),s("LeftMenu"),s("div",{staticClass:"rightContainer"},[s("router-view")],1)],1)},V=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"head-nav"},[n("el-row",[n("el-col",{staticClass:"logo-container",attrs:{span:6}},[n("img",{staticClass:"logo",attrs:{src:s("cf05"),alt:""}}),n("span",{staticClass:"title"},[e._v("在线答题系统")])]),n("el-col",{staticClass:"user",attrs:{span:6}},[n("div",{staticClass:"userinfo"},[n("span",{staticClass:"username"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("div",{staticClass:"el-dropdown-link"},[n("div",{staticClass:"welcome"},[n("p",{staticClass:"name comename"},[e._v("欢迎")]),n("p",{staticClass:"name avatarname"},[e._v(e._s(e.userInfo.name))])]),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"info"}},[n("div",{on:{click:e.info}},[e._v("个人信息")])]),n("el-dropdown-item",{attrs:{command:"editpwd"}},[n("div",{on:{click:e.updatePwd}},[e._v("修改密码")])]),n("el-dropdown-item",{attrs:{command:"editname"}},[n("div",{on:{click:e.updateName}},[e._v("修改用户名")])]),n("el-dropdown-item",{attrs:{command:"logout"}},[n("div",{on:{click:e.logout}},[e._v("退出")])])],1)],1)],1)])])],1)],1)},H=[],X=s("335a"),W={name:"head-nav",methods:Object(h["a"])({},Object(b["c"])(["setUserInfo"]),{info:function(){this.$router.push({name:"userInfo"})},logout:function(){var e=this;this.$confirm("确定要退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getOut()}).catch(function(){})},updatePwd:function(){this.$router.push({name:"updatePwd"})},updateName:function(){this.$router.push({name:"updateName"})},getOut:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("api/user/logout");case 3:t=e.sent,200==t.statusCode?(X["a"].session.remove("userInfo"),this.setUserInfo({}),this.$router.push({name:"login"})):this.$message({type:"warning",message:t.message,showClose:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}),computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},Y=W,G=(s("17e5"),Object(l["a"])(Y,Z,H,!1,null,"7d074068",null)),K=G.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"menu_page"},[s("el-col",[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical","background-color":"#324057","text-color":"#fff","active-text-color":"#409eff"}},[s("router-link",{attrs:{to:"/home"}},[s("el-menu-item",{attrs:{index:"0"}},[s("i",{staticClass:"fa fa-margin fa-server"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])])],1),e._l(e.items,function(t,n){return[t.children?s("el-submenu",{key:(n+1).toString(),attrs:{index:(n+1).toString()}},[s("template",{slot:"title"},[s("i",{class:"fa fa-margin "+t.icon}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._l(t.children,function(t,n){return s("router-link",{key:n,attrs:{to:t.path}},[s("el-menu-item",{attrs:{index:t.path}},[s("i",{class:"fa fa-margin "+t.icon}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)})],2):s("router-link",{key:t.path,attrs:{to:t.path}},[s("el-menu-item",{attrs:{index:(n+1).toString()}},[s("i",{class:"fa fa-margin "+t.icon}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)]})],2)],1)],1)},te=[],se={name:"leftmenu",data:function(){return{items:[{icon:"fa-money",name:"试卷管理",children:[{icon:"fa-search-minus",name:"查阅试卷",path:"/consultQuestions"},{icon:"fa-google-plus",name:"发布新试题",path:"/addQuestion"},{icon:"fa-file-code-o",name:"发布的试卷",path:"/publishedQuestions"},{icon:"fa-text-width",name:"填写的试卷",path:"/answeredList"}]},{icon:"fa-asterisk",name:"试卷统计",path:"/questionsStatistics"}]}}},ne=se,ae=(s("1161"),Object(l["a"])(ne,ee,te,!1,null,"354054ce",null)),ie=ae.exports,re={name:"index",components:{HeadNav:K,LeftMenu:ie}},oe=re,le=(s("cc60"),Object(l["a"])(oe,J,V,!1,null,"6e3d8c48",null)),ce=le.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("bg",[s("div",{staticClass:"text-container text-center"},[s("h1",{staticClass:"title"},[e._v("在线答题系统")]),s("p",{staticClass:"lead"},[e._v(" 专注于线上答题, 用心做设计, 用心做服务! ")])])])},me=[],de=(s("ba21"),{}),pe=Object(l["a"])(de,ue,me,!1,null,"7d1bf784",null),ge=pe.exports,fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("bg",[[s("div",{staticClass:"form_container"},[s("el-form",{ref:"Form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"原始密码",prop:"oldPassword"}},[s("el-input",{attrs:{placeholder:"请输入原始密码",type:"password"},model:{value:e.form.oldPassword,callback:function(t){e.$set(e.form,"oldPassword",t)},expression:"form.oldPassword"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"surePassword"}},[s("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.form.surePassword,callback:function(t){e.$set(e.form,"surePassword",t)},expression:"form.surePassword"}})],1),s("el-form-item",[s("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){e.submitForm("Form")}}},[e._v("修改密码")])],1)],1)],1)]],2)},he=[],be={data:function(){var e=this,t=function(t,s,n){s!==e.form.newPassword?n(new Error("两次输入密码不一致!")):n()};return{form:{oldPassword:"",newPassword:"",surePassword:""},rules:{oldPassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],newPassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"}],surePassword:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,message:"密码长度应为6到30个字符",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:Object(h["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=11;break}return e.prev=1,e.next=4,j("/api/user/updatePwd",Object(h["a"])({},t.form,{_id:t.userInfo._id}));case 4:n=e.sent,200==n.statusCode?(t.$message({showClose:!0,message:n.message,type:"success"}),t.setUserInfo(n.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}),computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},we=be,ve=(s("f17a"),Object(l["a"])(we,fe,he,!1,null,"63d86a74",null)),Ce=ve.exports,_e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("bg",[[s("div",{staticClass:"form_container"},[s("el-form",{ref:"Form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"新用户名",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入新用户名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",[s("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){e.submitForm("Form")}}},[e._v("修改用户名")])],1)],1)],1)]],2)},xe=[],ye={data:function(){return{form:{name:""},rules:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:30,message:"用户名长度应为2到30个字符",trigger:"blur"}]}}},methods:Object(h["a"])({},Object(b["c"])(["setUserInfo"]),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(s){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=11;break}return e.prev=1,e.next=4,j("/api/user/updateName",Object(h["a"])({},t.form,{_id:t.userInfo._id}));case 4:n=e.sent,200==n.statusCode?(t.$message({showClose:!0,message:n.message,type:"success"}),t.setUserInfo(n.data.userInfo),t.$router.push({name:"home"})):t.$message({showClose:!0,message:n.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}),computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},ke=ye,Qe=(s("aca2"),Object(l["a"])(ke,_e,xe,!1,null,"ab1ef816",null)),$e=Qe.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("bg",[[s("div",{staticClass:"form_container"},[s("h1",{staticClass:"title"},[e._v("个人信息")]),s("div",{staticClass:"flex-row font24"},[s("span",{staticClass:"w100 mr10"},[e._v("用户名 :")]),s("p",[e._v(e._s(e.userInfo.name))])]),s("div",{staticClass:"flex-row font24",staticStyle:{"margin-top":"50px"}},[s("span",{staticClass:"w100 mr10"},[e._v("邮   箱 :")]),s("p",[e._v(e._s(e.userInfo.email))])])])]],2)},je=[],Se={computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},Ie=Se,Ae=(s("05a4"),Object(l["a"])(Ie,Te,je,!1,null,"6c6125da",null)),qe=Ae.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),s("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("出卷人名称 : ")]),s("el-input",{attrs:{placeholder:"请输入出卷人名称",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"singleCount",align:"center",label:"单选题数量"}}),s("el-table-column",{attrs:{prop:"multipleCount",align:"center",label:"多选题数量"}}),s("el-table-column",{attrs:{prop:"judgementCount",align:"center",label:"判断题数量"}}),s("el-table-column",{attrs:{prop:"answerCount",align:"center",label:"简答题数量"}}),s("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总数量"}}),s("el-table-column",{attrs:{prop:"userName",align:"center",label:"发布者"}}),s("el-table-column",{attrs:{prop:"createTime",align:"center",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{disabled:t.row.isAnswer,size:"mini"},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v(e._s(t.row.isAnswer?"已作答":"开始做题"))])]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Pe=[],Le={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),this.userName&&(t.userName=this.userName),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t._id=this.userInfo._id,e.next=14,T("/api/questions/getQuestion",t);case 14:s=e.sent,200==s.statusCode?(this.questionsList=s.data.questionList,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 21:case"end":return e.stop()}},e,this,[[0,18]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerQuestion",params:{id:t._id}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},Ee=Le,Be=(s("0cfd"),Object(l["a"])(Ee,Oe,Pe,!1,null,"797c289c",null)),Ne=Be.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("el-button",{attrs:{type:"primary"},on:{click:e.openFile}},[e._v("上传试题")]),s("el-button",{attrs:{type:"success"},on:{click:e.downLoadTemplate}},[e._v("下载试题模板")]),s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.upload}}),s("div",{staticClass:"mt20"},[s("div",{staticClass:"flex-row flex-center"},[s("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),s("el-input",{attrs:{clearable:"",placeholder:"请输入试题名称"},model:{value:e.questionTitle.name,callback:function(t){e.$set(e.questionTitle,"name","string"===typeof t?t.trim():t)},expression:"questionTitle.name"}})],1),s("div",{staticStyle:{margin:"10px 0 0 100px"}},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(e.questionTitle.message))])])]),s("Single",{attrs:{singleQuestion:e.singleQuestion},on:{addSingle:e.addSingle,deleteItem:e.deleteItem}}),s("Multiple",{attrs:{multipleQuestion:e.multipleQuestion},on:{addMultiple:e.addMultiple,deleteItem:e.deleteItem}}),s("Judgement",{attrs:{judgementQuestion:e.judgementQuestion},on:{addJudgement:e.addJudgement,deleteItem:e.deleteItem}}),s("Answer",{attrs:{answerQuestion:e.answerQuestion},on:{addAnswer:e.addAnswer,deleteItem:e.deleteItem}}),s("div",{staticClass:"mt20"},[s("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("创建")])],1)],1)},ze=[],Re=(s("55dd"),s("ac6a"),{data:function(){return{questionTitle:{name:"",message:""},singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[]}},methods:{addSingle:function(){var e=z();this.singleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:"",message:""})},addMultiple:function(){var e=z();this.multipleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:[],message:""})},addJudgement:function(){var e=z();this.judgementQuestion.push({id:e,title:"",answer:"",message:""})},addAnswer:function(){var e=z();this.answerQuestion.push({id:e,title:"",answer:"",message:""})},create:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s,n,a,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion){e.next=3;break}return this.$message({showClose:!0,message:"试卷至少要有一道试题",type:"warning"}),e.abrupt("return");case 3:if(t=!0,s={},n={},a={},i={},this.singleQuestion.forEach(function(e){var n=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer||(n="请选择一个正确答案"):n="选项不能为空":n="题目不能为空",n?t=!1:s[e.id]=e.answer,e.message=n}),this.multipleQuestion.forEach(function(e){var s=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer.length<=1&&(s="请选择两个或两个以上正确答案"):s="选项不能为空":s="题目不能为空",s?t=!1:n[e.id]=e.answer.sort().toString(),e.message=s}),this.judgementQuestion.forEach(function(e){var s=null;e.title?e.answer||(s="请选择一个正确答案"):s="题目不能为空",s?t=!1:a[e.id]=e.answer,e.message=s}),this.answerQuestion.forEach(function(e){var s=null;e.title?e.answer||(s="请填写正确答案"):s="题目不能为空",s?t=!1:i[e.id]=e.answer,e.message=s}),this.questionTitle.name?this.questionTitle.message="":(this.questionTitle.message="试题名称不能为空",t=!1),!t){e.next=34;break}return r={},r.title=this.questionTitle.name,r.single={question:this.singleQuestion,answer:s,count:this.singleQuestion.length},r.multiple={question:this.multipleQuestion,answer:n,count:this.multipleQuestion.length},r.judgement={question:this.judgementQuestion,answer:a,count:this.judgementQuestion.length},r.answer={question:this.answerQuestion,answer:i,count:this.answerQuestion.length},r.userName=this.userInfo.name,r.userId=this.userInfo._id,e.prev=22,e.next=25,j("/api/questions/addQuestion",r);case 25:o=e.sent,200==o.statusCode?(this.$message({type:"success",message:o.message,showClose:!0}),this.resetData()):this.$message({type:"warning",message:o.message,showClose:!0}),e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](22),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 32:e.next=35;break;case 34:this.$message({type:"warning",message:"请完善试题信息",showClose:!0});case 35:case"end":return e.stop()}},e,this,[[22,29]])}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(e){var t=e.key,s=e.index;this[t].splice(s,1)},goBack:function(){this.$router.push({name:"consultQuestions"})},back:function(e){this.questionTitle.name||0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion?this.openMessageBox(e):e&&"function"==typeof e&&e()},openMessageBox:function(e){this.$confirm("试卷还没保存, 是否放弃保存并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&"function"==typeof e&&e()}).catch(function(){})},openFile:function(){document.getElementById("file").click()},upload:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var s,n,a,i,r,o,l,c,u,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s=t.target.files[0],n=s.name,a=/(\.(xls)|(xlsx))$/i,i=n.replace(/(.*\/)*([^.]+).*/gi,"$2"),!a.test(n)){e.next=14;break}return r=new FormData,r.append("file",s),e.next=10,j("/api/upload/uploadFile",r);case 10:if(o=e.sent,200==o.statusCode){for(u in l=o.data.question,this.questionTitle.name||(this.questionTitle.name=i),c=function(e){l[e].forEach(function(t){m["".concat(e,"Question")].push(t)})},l)c(u);o.message?this.$message({type:"error",message:o.message,showClose:!0}):this.$message({type:"success",message:"试题解析成功",showClose:!0})}else this.$message({type:"error",message:o.message,showClose:!0});e.next=15;break;case 14:this.$message({type:"warning",message:"文件格式不正确,请选择后缀为xls或者xlsx的文件",showClose:!0});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(t){return e.apply(this,arguments)}return t}(),resetData:function(){this.questionTitle={name:"",message:""},this.singleQuestion=[],this.multipleQuestion=[],this.judgementQuestion=[],this.answerQuestion=[]},downLoadTemplate:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:try{t="/api/downLoad/downLoadTemplate",window.open(t)}catch(s){this.$message({showClose:!0,type:"error",message:s.toString()})}case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:Object(h["a"])({},Object(b["b"])(["userInfo"])),beforeRouteLeave:function(e,t,s){this.back(function(){s()})}}),Ue=Re,Fe=(s("ea15"),Object(l["a"])(Ue,De,ze,!1,null,"618b9bd5",null)),Me=Fe.exports,Je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),s("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{align:"center",prop:"singleCount",label:"单选题数量"}}),s("el-table-column",{attrs:{prop:"multipleCount",align:"center",label:"多选题数量"}}),s("el-table-column",{attrs:{prop:"judgementCount",align:"center",label:"判断题数量"}}),s("el-table-column",{attrs:{prop:"answerCount",align:"center",label:"简答题数量"}}),s("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总数量"}}),s("el-table-column",{attrs:{align:"center",prop:"createTime",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"flex-row"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),s("el-button",{attrs:{size:"small",type:"success"},on:{click:function(s){e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),s("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(s){e.handleComment(t.$index,t.row)}}},[e._v("查看评论")])],1)]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Ve=[],Ze={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,T("/api/questions/getPublishedQuestion",t);case 13:s=e.sent,200==s.statusCode?(this.questionsList=s.data.publishedQuestion,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e,t){this.$router.push({name:"editQuestion",params:{id:t._id}})},handleDelete:function(e,t){var s=this;this.$confirm("确定删除试卷?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(f["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("/api/questions/deleteQuestion",{_id:t._id});case 3:n=e.sent,200==n.statusCode?(s.$message({showClose:!0,type:"success",message:n.message}),s.getQuestionList()):s.$message({showClose:!0,type:"warning",message:n.message}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),s.$message({showClose:!0,type:"error",message:e.t0.toString()});case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).catch(function(){})},handleComment:function(e,t){this.$router.push({name:"commentList",params:{id:t._id}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},He=Ze,Xe=(s("307f"),Object(l["a"])(He,Je,Ve,!1,null,"7d1a7cb0",null)),We=Xe.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"time"},[e._v("时间："),s("span",{staticStyle:{color:"red"}},[e._v(e._s(e.showTime))])]),s("div",[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),s("span",{staticClass:"font24"},[e._v(e._s(e.title))])])]),s("Single",{attrs:{isAnswer:e.isAnswer,singleQuestion:e.singleQuestion}}),s("Multiple",{attrs:{isAnswer:e.isAnswer,multipleQuestion:e.multipleQuestion}}),s("Judgement",{attrs:{isAnswer:e.isAnswer,judgementQuestion:e.judgementQuestion}}),s("Answer",{attrs:{isAnswer:e.isAnswer,answerQuestion:e.answerQuestion}}),s("div",{staticClass:"mt20"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),s("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},Ge=[],Ke=s("e814"),et=s.n(Ke),tt={data:function(){return{title:"",singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],isAnswer:!0,time:0}},methods:{submit:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,s={},this.singleQuestion.forEach(function(e){var n=null;e.answer||(n="该题还没有完成"),n?t=!1:s[e.id]=e.answer,e.message=n}),this.multipleQuestion.forEach(function(e){var n=null;0==e.answer.length&&(n="该题还没有完成"),n?t=!1:s[e.id]=e.answer,e.message=n}),this.judgementQuestion.forEach(function(e){var n=null;e.answer||(n="该题还没有完成"),n?t=!1:s[e.id]=e.answer,e.message=n}),this.answerQuestion.forEach(function(e){var n=null;e.answer||(n="该题还没有完成"),n?t=!1:s[e.id]=e.answer,e.message=n}),!t){e.next=24;break}return n={},n.title=this.title,n.answer=s,n.userName=this.userInfo.name,n.userId=this.userInfo._id,n.questionId=this.$route.params.id,n.answerTime=this.showTime,e.prev=14,e.next=17,j("/api/questions/submitQuestion",n);case 17:a=e.sent,200==a.statusCode?(this.$message({type:"success",message:a.message,showClose:!0}),this.$router.back()):this.$message({type:"warning",message:a.message,showClose:!0}),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](14),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 24:case"end":return e.stop()}},e,this,[[14,21]])}));function t(){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.back()},initTime:function(){var e=this;this.timer=setInterval(function(){e.time++},1e3)}},created:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,T("/api/questions/getQuestionById/"+t);case 4:s=e.sent,200==s.statusCode?(this.title=s.data.questionList.title,this.singleQuestion=s.data.questionList.singleQuestion,this.multipleQuestion=s.data.questionList.multipleQuestion,this.judgementQuestion=s.data.questionList.judgementQuestion,this.answerQuestion=s.data.questionList.answerQuestion,this.initTime()):this.$message({type:"warning",message:s.message,showClose:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.timer&&clearInterval(this.timer)},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]),{showTime:function(){var e=this.time%60;e=e<10?"0".concat(e):e;var t=et()(this.time/60)%60;t=t<10?"0".concat(t):t;var s=et()(this.time/60/60)%24;return s=s<10?"0".concat(s):s,"".concat(s,"：").concat(t,"：").concat(e)}}),beforeRouteLeave:function(e,t,s){var n=!0;n&&this.singleQuestion.forEach(function(e){e.answer&&(n=!1)}),n&&this.multipleQuestion.forEach(function(e){0!=e.answer.length&&(n=!1)}),n&&this.judgementQuestion.forEach(function(e){e.answer&&(n=!1)}),n&&this.answerQuestion.forEach(function(e){e.answer&&(n=!1)}),n?s():this.$confirm("试卷还没提交, 是否放弃提交并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()}).catch(function(){})}},st=tt,nt=(s("a7f9"),Object(l["a"])(st,Ye,Ge,!1,null,"efd854f2",null)),at=nt.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",[s("div",{staticClass:"flex-row flex-center"},[s("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),s("el-input",{attrs:{clearable:"",placeholder:"请输入试题名称"},model:{value:e.questionTitle.name,callback:function(t){e.$set(e.questionTitle,"name","string"===typeof t?t.trim():t)},expression:"questionTitle.name"}})],1),s("div",{staticStyle:{margin:"10px 0 0 100px"}},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(e.questionTitle.message))])])]),s("Single",{attrs:{singleQuestion:e.singleQuestion},on:{addSingle:e.addSingle,deleteItem:e.deleteItem}}),s("Multiple",{attrs:{multipleQuestion:e.multipleQuestion},on:{addMultiple:e.addMultiple,deleteItem:e.deleteItem}}),s("Judgement",{attrs:{judgementQuestion:e.judgementQuestion},on:{addJudgement:e.addJudgement,deleteItem:e.deleteItem}}),s("Answer",{attrs:{answerQuestion:e.answerQuestion},on:{addAnswer:e.addAnswer,deleteItem:e.deleteItem}}),s("div",{staticClass:"mt20"},[s("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),s("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},rt=[],ot={data:function(){return{questionTitle:{name:"",message:""},singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],_id:"",isEdit:!1,isSave:!1}},created:function(){this.getQuestionDetail()},methods:{getQuestionDetail:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,T("/api/questions/getPublishedQuestionById/"+t);case 4:s=e.sent,200==s.statusCode?(this.questionTitle.name=s.data.questionDetail.title,this.singleQuestion=s.data.questionDetail.single,this.multipleQuestion=s.data.questionDetail.multiple,this.judgementQuestion=s.data.questionDetail.judgement,this.answerQuestion=s.data.questionDetail.answer):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:return e.prev=11,this.$nextTick(function(){n.isEdit=!1}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));function t(){return e.apply(this,arguments)}return t}(),addSingle:function(){var e=E()().toString();this.singleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:"",message:""})},addMultiple:function(){var e=E()().toString();this.multipleQuestion.push({id:e,title:"",options:{A:"",B:"",C:"",D:""},answer:[],message:""})},addJudgement:function(){var e=E()().toString();this.judgementQuestion.push({id:e,title:"",answer:"",message:""})},addAnswer:function(){var e=E()().toString();this.answerQuestion.push({id:e,title:"",answer:"",message:""})},save:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s,n,a,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion){e.next=3;break}return this.$message({showClose:!0,message:"试卷至少要有一道试题",type:"warning"}),e.abrupt("return");case 3:if(t=!0,s={},n={},a={},i={},this.singleQuestion.forEach(function(e){var n=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer||(n="请选择一个正确答案"):n="选项不能为空":n="题目不能为空",n?t=!1:s[e.id]=e.answer,e.message=n}),this.multipleQuestion.forEach(function(e){var s=null;e.title?e.options["A"]&&e.options["B"]&&e.options["C"]&&e.options["D"]?e.answer.length<=1&&(s="请选择两个或两个以上正确答案"):s="选项不能为空":s="题目不能为空",s?t=!1:n[e.id]=e.answer.sort().toString(),e.message=s}),this.judgementQuestion.forEach(function(e){var s=null;e.title?e.answer||(s="请选择一个正确答案"):s="题目不能为空",s?t=!1:a[e.id]=e.answer,e.message=s}),this.answerQuestion.forEach(function(e){var s=null;e.title?e.answer||(s="请填写正确答案"):s="题目不能为空",s?t=!1:i[e.id]=e.answer,e.message=s}),this.questionTitle.name?this.questionTitle.message="":(this.questionTitle.message="试题名称不能为空",t=!1),!t){e.next=35;break}return r={},r.title=this.questionTitle.name,r.single={question:this.singleQuestion,answer:s,count:this.singleQuestion.length},r.multiple={question:this.multipleQuestion,answer:n,count:this.multipleQuestion.length},r.judgement={question:this.judgementQuestion,answer:a,count:this.judgementQuestion.length},r.answer={question:this.answerQuestion,answer:i,count:this.answerQuestion.length},r.userName=this.userInfo.name,r.userId=this.userInfo._id,r._id=this.$route.params.id,e.prev=23,e.next=26,j("/api/questions/editQuestion",r);case 26:o=e.sent,200==o.statusCode?(this.$message({type:"success",message:o.message,showClose:!0}),this.isSave=!0,this.$router.back()):this.$message({type:"warning",message:o.message,showClose:!0}),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](23),this.$message({type:"error",message:e.t0.toString(),showClose:!0});case 33:e.next=36;break;case 35:this.$message({type:"warning",message:"请完善试题信息",showClose:!0});case 36:case"end":return e.stop()}},e,this,[[23,30]])}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(e){var t=e.key,s=e.index;this[t].splice(s,1)},goBack:function(){this.$router.push({name:"publishedQuestions"})},back:function(e){(this.questionTitle.name||0!=this.singleQuestion.length||0!=this.multipleQuestion.length||0!=this.judgementQuestion.length||0!=this.answerQuestion)&&this.isEdit?this.openMessageBox(e):e&&"function"==typeof e&&e()},openMessageBox:function(e){this.$confirm("试卷还没保存, 是否放弃保存并退出","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&"function"==typeof e&&e()}).catch(function(){})}},beforeRouteLeave:function(e,t,s){this.isSave?s():this.back(function(){s()})},watch:{questionTitle:{deep:!0,handler:function(){this.isEdit=!0}},singleQuestion:{deep:!0,handler:function(){this.isEdit=!0}},multipleQuestion:{deep:!0,handler:function(){this.isEdit=!0}},judgementQuestion:{deep:!0,handler:function(){this.isEdit=!0}},answerQuestion:{deep:!0,handler:function(){this.isEdit=!0}}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},lt=ot,ct=(s("042a"),Object(l["a"])(lt,it,rt,!1,null,"a82fdcf0",null)),ut=ct.exports,mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("el-dialog",{attrs:{title:"评论",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",[s("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.commentInfo,callback:function(t){e.commentInfo=t},expression:"commentInfo"}})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancel}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)]),s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),s("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("填写时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[s("el-table-column",{attrs:{type:"index",width:"20"}}),s("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"single",align:"center",label:"单选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.single.singleCorrect+" / "+t.row.single.singleCount))])]}}])}),s("el-table-column",{attrs:{prop:"multiple",align:"center",label:"多选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.multiple.multipleCorrect+" / "+t.row.multiple.multipleCount))])]}}])}),s("el-table-column",{attrs:{prop:"judgement",align:"center",label:"判断题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.judgement.judgementCorrect+" / "+t.row.judgement.judgementCount))])]}}])}),s("el-table-column",{attrs:{prop:"answer",align:"center",label:"简答题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.answer.answerCorrect+" / "+t.row.answer.answerCount))])]}}])}),s("el-table-column",{attrs:{prop:"correctCount",align:"center",label:"正确题数"}}),s("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总题数"}}),s("el-table-column",{attrs:{prop:"correctPercent",align:"center",label:"答对率"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("numToPercent")(t.row.correctPercent)))])]}}])}),s("el-table-column",{attrs:{prop:"userName",align:"center",label:"发布者"}}),s("el-table-column",{attrs:{prop:"createTime",align:"center",label:"填写时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{prop:"answerTime",align:"center",label:"完成时间"}}),s("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"success",disabled:t.row.isComment},on:{click:function(s){e.comment(t.$index,t.row)}}},[e._v(e._s(t.row.isComment?"已评论":"评论"))]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)},dt=[],pt={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",beginTime:"",endTime:"",dialogVisible:!1,questionId:"",commentInfo:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,T("/api/questions/getAnswerQuestion",t);case 13:s=e.sent,200==s.statusCode?(this.questionsList=s.data.answerList,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerDetail",params:{id:t.answerId}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},comment:function(e,t){this.questionId=t.questionId,this.dialogVisible=!0},ok:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.commentInfo){e.next=6;break}return this.$message({showClose:!0,message:"评论内容不能为空",type:"warning"}),e.abrupt("return");case 6:return t={userName:this.userInfo.name,content:this.commentInfo,questionId:this.questionId,userId:this.userInfo._id},e.next=9,j("/api/comment/submitComment",t);case 9:s=e.sent,200==s.statusCode?(this.$message({showClose:!0,message:s.message,type:"success"}),this.getQuestionList()):this.$message({showClose:!0,message:"评论失败",type:"error"}),this.dialogVisible=!1,this.commentInfo="";case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"}),this.commentInfo="",this.dialogVisible=!1;case 20:case"end":return e.stop()}},e,this,[[0,15]])}));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){var e=this;this.commentInfo?this.$confirm("确认取消评论？").then(function(t){e.questionId="",e.commentInfo="",e.dialogVisible=!1}).catch(function(e){}):(this.questionId="",this.dialogVisible=!1)},handleClose:function(e){var t=this;this.commentInfo?this.$confirm("确认取消评论？").then(function(s){t.questionId="",t.commentInfo="",e()}).catch(function(e){}):e()},search:function(){this.currentPage=1,this.getQuestionList()}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},gt=pt,ft=(s("2383"),Object(l["a"])(gt,mt,dt,!1,null,"545bfe74",null)),ht=ft.exports,bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"text-nowrap mr10 font20"},[e._v("试题名称 :")]),s("span",{staticClass:"font24"},[e._v(e._s(e.title))])])]),s("Single",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,singleQuestion:e.singleQuestion}}),s("Multiple",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,multipleQuestion:e.multipleQuestion}}),s("Judgement",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,judgementQuestion:e.judgementQuestion}}),s("Answer",{attrs:{isAnswer:e.isAnswer,disabled:e.disabled,answerQuestion:e.answerQuestion}}),s("div",{staticClass:"mt20"},[s("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},wt=[],vt={data:function(){return{title:"",singleQuestion:[],multipleQuestion:[],judgementQuestion:[],answerQuestion:[],isAnswer:!0,disabled:!0}},methods:{goBack:function(){this.$router.back()}},created:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,T("/api/questions/getAnswerQuestionById/"+t);case 4:s=e.sent,200==s.statusCode?(this.title=s.data.answerDetail.title,this.singleQuestion=s.data.answerDetail.single.question,this.multipleQuestion=s.data.answerDetail.multiple.question,this.judgementQuestion=s.data.answerDetail.judgement.question,this.answerQuestion=s.data.answerDetail.answer.question):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},Ct=vt,_t=(s("ccff"),Object(l["a"])(Ct,bt,wt,!1,null,"381a69ff",null)),xt=_t.exports,yt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("评论者 : ")]),s("el-input",{attrs:{placeholder:"请输入评论者姓名",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("评论内容 : ")]),s("el-input",{attrs:{placeholder:"请输入评论内容",clearable:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.getCommentList}},[e._v("查询")]),s("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.commentList}},[s("el-table-column",{attrs:{type:"index"}}),s("el-table-column",{attrs:{prop:"userName",align:"center",label:"评论者"}}),s("el-table-column",{attrs:{prop:"content","show-overflow-tooltip":!0,align:"center",label:"评论内容"}}),s("el-table-column",{attrs:{prop:"createTime",align:"center",label:"评论时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},kt=[],Qt={data:function(){return{commentList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",content:"",userName:"",beginTime:"",endTime:""}},created:function(){this.getCommentList()},methods:{getCommentList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.content&&(t.content=this.content),this.userName&&(t.userName=this.userName),t.pageSize=this.pageSize,t.currentPage=this.currentPage,e.next=13,T("/api/comment/getCommentList/"+this.$route.params.id,t);case 13:s=e.sent,200==s.statusCode?(this.commentList=s.data.commentList,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerQuestion",params:t})},handleCurrentChange:function(e){this.currentPage=e,this.getCommentList()},goBack:function(){this.$router.back()}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},$t=Qt,Tt=(s("f985"),Object(l["a"])($t,yt,kt,!1,null,"99ec5d98",null)),jt=Tt.exports,St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("试题名称 : ")]),s("el-input",{attrs:{placeholder:"请输入试题名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("发布时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.getQuestionList}},[e._v("查询")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{align:"center",prop:"answerCount",label:"答题总人数"}}),s("el-table-column",{attrs:{prop:"percent",align:"center",label:"整体正确率"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("numToPercent")(t.row.percent)))])]}}])}),s("el-table-column",{attrs:{align:"center",prop:"createTime",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"primary",disabled:0==t.row.answerCount},on:{click:function(s){e.handleEdit(t.$index,t.row)}}},[e._v("查看统计")]),s("el-button",{attrs:{size:"small",type:"success",disabled:0==t.row.answerCount},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v("查看答题者")])]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},It=[],At={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",title:"",beginTime:"",endTime:""}},created:function(){this.getQuestionList()},methods:{getQuestionList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=5;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 5:return this.beginTime&&(t.beginTime=this.beginTime),this.endTime&&(t.endTime=this.endTime),this.title&&(t.title=this.title),t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.userId=this.userInfo._id,e.next=13,T("/api/statistics/statisticsQuestions",t);case 13:s=e.sent,200==s.statusCode?(this.questionsList=s.data.list,this.total=s.data.total):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e,t){this.$router.push({name:"statisticsDetail",params:{id:t.questionId}})},handleCurrentChange:function(e){this.currentPage=e,this.getQuestionList()},handleClick:function(e,t){this.$router.push({name:"answerUserList",params:{id:t.questionId}})}},computed:Object(h["a"])({},Object(b["b"])(["userInfo"]))},qt=At,Ot=(s("664e"),Object(l["a"])(qt,St,It,!1,null,"12327912",null)),Pt=Ot.exports,Lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("el-dialog",{attrs:{title:"饼状图",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",[s("v-chart",{attrs:{options:e.polar}})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),s("div",[s("h3",[e._v("单选题")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.single}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"A",align:"center",label:"A"}}),s("el-table-column",{attrs:{align:"center",prop:"B",label:"B"}}),s("el-table-column",{attrs:{align:"center",prop:"C",label:"C"}}),s("el-table-column",{attrs:{align:"center",prop:"D",label:"D"}}),s("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),s("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),s("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),s("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),s("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),s("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),s("div",{staticClass:"mt20"},[s("h3",[e._v("多选题")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.multiple}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"A",align:"center",label:"A"}}),s("el-table-column",{attrs:{align:"center",prop:"B",label:"B"}}),s("el-table-column",{attrs:{align:"center",prop:"C",label:"C"}}),s("el-table-column",{attrs:{align:"center",prop:"D",label:"D"}}),s("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),s("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),s("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),s("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),s("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),s("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),s("div",{staticClass:"mt20"},[s("h3",[e._v("判断题")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.judgement}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"A",align:"center",label:"对"}}),s("el-table-column",{attrs:{align:"center",prop:"B",label:"错"}}),s("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),s("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s("A"==t.row.correctAnswer?"对":"错"))])]}}])}),s("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),s("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),s("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),s("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){e.handleJudgement(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),s("div",{staticClass:"mt20"},[s("h3",[e._v("简答题")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.answer}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{align:"center",prop:"title",label:"试题名称"}}),s("el-table-column",{attrs:{align:"center",prop:"other",label:"其他"}}),s("el-table-column",{attrs:{align:"center",prop:"correctAnswer",label:"正确答案"}}),s("el-table-column",{attrs:{align:"center",prop:"correctCount",label:"正确人数"}}),s("el-table-column",{attrs:{align:"center",prop:"totalNum",label:"作答人数"}}),s("el-table-column",{attrs:{align:"center",prop:"unAnswer",label:"未作答人数"}}),s("el-table-column",{attrs:{label:"统计",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){e.handleAnswer(t.$index,t.row)}}},[e._v("查看")])]}}])})],1)],1),s("div",{staticClass:"mt30"},[s("el-button",{attrs:{type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)],1)},Et=[],Bt={data:function(){return{answer:[],judgement:[],multiple:[],single:[],dialogVisible:!1,polar:{}}},created:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,T("/api/statistics/statisticsQuestionsById/"+t);case 4:s=e.sent,200==s.statusCode?(this.answer=s.data.list.answer,this.judgement=s.data.list.judgement,this.multiple=s.data.list.multiple,this.single=s.data.list.single):this.$message({showClose:!0,message:s.message,type:"warning"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{goBack:function(){this.$router.back()},handleClick:function(e,t){var s={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["A","B","C","D"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.A,name:"A"},{value:t.B,name:"B"},{value:t.C,name:"C"},{value:t.D,name:"D"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=s,this.dialogVisible=!0},handleJudgement:function(e,t){var s={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["对","错"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.A,name:"对"},{value:t.B,name:"错"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=s,this.dialogVisible=!0},handleAnswer:function(e,t){var s={title:{text:t.title,subtext:"总人数".concat(t.totalNum+t.unAnswer," 作答人数").concat(t.totalNum," 未作答人数").concat(t.unAnswer),x:"60%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},legend:{orient:"vertical",left:"left",data:["正确","错误"]},series:[{name:"选项占比",type:"pie",radius:"55%",center:["70%","60%"],data:[{value:t.correctCount,name:"正确"},{value:t.totalNum-t.correctCount,name:"错误"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.polar=s,this.dialogVisible=!0}}},Nt=Bt,Dt=(s("8220"),Object(l["a"])(Nt,Lt,Et,!1,null,"5831861e",null)),zt=Dt.exports,Rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-container"},[s("div",{staticClass:"flex-row flex-wrap"},[s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 font18"},[e._v("答题者名称 : ")]),s("el-input",{attrs:{placeholder:"请输入答题者名称",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),s("div",{staticClass:"flex-row flex-center min-width mt10"},[s("span",{staticClass:"text-nowrap pr10 pl10 font18"},[e._v("填写时间 : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),s("span",{staticClass:"pl10 pr10 font18"},[e._v("--")]),s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),s("div",{staticClass:"flex-row flex-center ml10 mt10"},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),s("el-button",{attrs:{type:"warning"},on:{click:e.goBack}},[e._v("返回")])],1)]),s("div",{staticClass:"mt20"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questionsList}},[s("el-table-column",{attrs:{type:"index",width:"20"}}),s("el-table-column",{attrs:{prop:"title",align:"center",label:"试题名称"}}),s("el-table-column",{attrs:{prop:"single",align:"center",label:"单选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.single.singleCorrect+" / "+t.row.single.singleCount))])]}}])}),s("el-table-column",{attrs:{prop:"multiple",align:"center",label:"多选题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.multiple.multipleCorrect+" / "+t.row.multiple.multipleCount))])]}}])}),s("el-table-column",{attrs:{prop:"judgement",align:"center",label:"判断题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.judgement.judgementCorrect+" / "+t.row.judgement.judgementCount))])]}}])}),s("el-table-column",{attrs:{prop:"answer",align:"center",label:"简答题(对/共计)"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.answer.answerCorrect+" / "+t.row.answer.answerCount))])]}}])}),s("el-table-column",{attrs:{prop:"correctCount",align:"center",label:"正确题数"}}),s("el-table-column",{attrs:{prop:"totalCount",align:"center",label:"总题数"}}),s("el-table-column",{attrs:{prop:"correctPercent",align:"center",label:"答对率"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("numToPercent")(t.row.correctPercent)))])]}}])}),s("el-table-column",{attrs:{prop:"userName",align:"center",label:"答题者"}}),s("el-table-column",{attrs:{prop:"createTime",align:"center",label:"填写时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(e._f("formatDate")(t.row.createTime)))])]}}])}),s("el-table-column",{attrs:{prop:"answerTime",align:"center",label:"完成时间"}}),s("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.handleClick(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e.total>10?s("div",{staticClass:"text-center my-pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,background:!0,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()])},Ut=[],Ft={data:function(){return{questionsList:[],pageSize:10,currentPage:1,total:0,layout:"total, prev, pager, next,jumper",userName:"",beginTime:"",endTime:"",questionId:""}},created:function(){this.getAnswerList()},methods:{getAnswerList:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.$route.params.id,s={},!(this.beginTime&&this.endTime&&this.beginTime>this.endTime)){e.next=6;break}return this.$message({showClose:!0,message:"结束时间不能小于开始时间",type:"warning"}),e.abrupt("return");case 6:return this.beginTime&&(s.beginTime=this.beginTime),this.endTime&&(s.endTime=this.endTime),this.userName&&(s.userName=this.userName),s.pageSize=this.pageSize,s.currentPage=this.currentPage,e.next=13,T("/api/statistics/getAnswerUserById/"+t,s);case 13:n=e.sent,200==n.statusCode?(this.questionsList=n.data.answerList,this.total=n.data.total):this.$message({showClose:!0,message:n.message,type:"warning"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.toString(),type:"error"});case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){this.$router.push({name:"answerDetail",params:{id:t.answerId}})},handleCurrentChange:function(e){this.currentPage=e,this.getAnswerList()},search:function(){this.currentPage=1,this.getAnswerList()},goBack:function(){this.$router.back()}}},Mt=Ft,Jt=(s("6ae8"),Object(l["a"])(Mt,Rt,Ut,!1,null,"4797dcd4",null)),Vt=Jt.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"not-found",on:{click:e.goToHome}},[n("img",{attrs:{src:s("2c81"),alt:""}})])},Ht=[],Xt={methods:{goToHome:function(){this.$router.replace({name:"home"})}}},Wt=Xt,Yt=(s("1f70"),Object(l["a"])(Wt,Zt,Ht,!1,null,"ebce5b58",null)),Gt=Yt.exports;i["default"].use(d["a"]);var Kt=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"/",redirect:"/login"},{path:"/login",name:"login",component:q},{path:"/register",name:"register",component:M},{path:"/index",name:"index",component:ce,children:[{path:"/index",redirect:"/home"},{path:"/home",name:"home",component:ge},{path:"/updatePwd",name:"updatePwd",component:Ce},{path:"/updateName",name:"updateName",component:$e},{path:"/userInfo",name:"userInfo",component:qe},{path:"/consultQuestions",name:"consultQuestions",component:Ne},{path:"/addQuestion",name:"addQuestion",component:Me},{path:"/publishedQuestions",name:"publishedQuestions",component:We},{path:"/answerQuestion/:id",name:"answerQuestion",component:at},{path:"/editQuestion/:id",name:"editQuestion",component:ut},{path:"/answeredList",name:"answeredList",component:ht},{path:"/answerDetail/:id",name:"answerDetail",component:xt},{path:"/commentList/:id",name:"commentList",component:jt},{path:"/questionsStatistics",name:"questionsStatistics",component:Pt},{path:"/statisticsDetail/:id",name:"statisticsDetail",component:zt},{path:"/answerUserList/:id",name:"answerUserList",component:Vt}]},{path:"*",name:"notFound",component:Gt}]}),es=X["a"].session.get("userInfo",{}),ts={userInfo:es},ss=ts,ns=function(e){return e.userInfo},as=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X["a"].session.set("userInfo",t),e.userInfo=t};i["default"].use(b["a"]);var is=new b["a"].Store({state:ss,mutations:a,getters:n}),rs=s("9483");Object(rs["a"])("".concat("/","service-worker.js?data=").concat(E()()),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});s("fd38"),s("e719"),s("0fae"),s("141b");var os=s("9ca8"),ls=(s("ef97"),s("94b1"),s("c037"),s("2f73"),s("007d"),s("627c"),s("0b4b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"solt"},[e._t("default")],2)])}),cs=[],us=(s("c509"),{}),ms=Object(l["a"])(us,ls,cs,!1,null,"0ccf8d29",null),ds=ms.exports,ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt20"},[s("h1",{staticClass:"font20"},[e._v("一、单选题")]),e.isAnswer&&0==e.singleQuestion.length?s("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.singleQuestion,function(t,n){return s("div",{key:n,staticClass:"mt30"},[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"font18"},[e._v(e._s(n+1)+"、")]),e.isAnswer?e._e():s("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(s){e.$set(t,"title","string"===typeof s?s.trim():s)},expression:"question.title"}}),e.isAnswer?s("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),s("div",{staticClass:"mt20 ml20"},e._l(t.options,function(n,a){return s("div",{key:a,staticClass:"mb10 flex-row"},[s("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:a},model:{value:t.answer,callback:function(s){e.$set(t,"answer","string"===typeof s?s.trim():s)},expression:"question.answer"}},[e._v(e._s(a))]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.options[a],callback:function(s){e.$set(t.options,a,"string"===typeof s?s.trim():s)},expression:"question.options[option]"}}),e.isAnswer?s("span",{staticClass:"font18"},[e._v(e._s(t.options[a]))]):e._e()],1)}),0),s("div",{staticClass:"mt20 flex-row item"},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():s("span",{staticClass:"deleteItem",on:{click:function(t){e.deleteItem("singleQuestion",n)}}},[e._v("删除")])])])}),e.isAnswer?e._e():s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addSingle}},[e._v("添加单选题")])],2)},gs=[],fs={props:{singleQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addSingle:function(){this.$emit("addSingle")}}},hs=fs,bs=Object(l["a"])(hs,ps,gs,!1,null,null,null),ws=bs.exports,vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt20"},[s("h1",{staticClass:"font20"},[e._v("二、多选题")]),e.isAnswer&&0==e.multipleQuestion.length?s("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.multipleQuestion,function(t,n){return s("div",{key:n,staticClass:"mt30"},[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"font18"},[e._v(e._s(n+1)+"、")]),e.isAnswer?e._e():s("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(s){e.$set(t,"title","string"===typeof s?s.trim():s)},expression:"question.title"}}),e.isAnswer?s("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),s("div",{staticClass:"mt20 ml20"},e._l(t.options,function(n,a){return s("div",{key:a,staticClass:"mb10 flex-row align-items"},[s("el-checkbox",{staticClass:"mr20",attrs:{disabled:e.disabled,label:a},model:{value:t.answer,callback:function(s){e.$set(t,"answer","string"===typeof s?s.trim():s)},expression:"question.answer"}},[e._v(e._s(a))]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.options[a],callback:function(s){e.$set(t.options,a,"string"===typeof s?s.trim():s)},expression:"question.options[option]"}}),e.isAnswer?s("span",{staticClass:"font18"},[e._v(e._s(t.options[a]))]):e._e()],1)}),0),s("div",{staticClass:"mt20 flex-row item"},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():s("div",{staticClass:"deleteItem",on:{click:function(t){e.deleteItem("multipleQuestion",n)}}},[e._v("删除")])])])}),e.isAnswer?e._e():s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addMultiple}},[e._v("添加多选题")])],2)},Cs=[],_s={props:{multipleQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addMultiple:function(){this.$emit("addMultiple")}}},xs=_s,ys=Object(l["a"])(xs,vs,Cs,!1,null,null,null),ks=ys.exports,Qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt20"},[s("h1",{staticClass:"font20"},[e._v("三、判断题")]),e.isAnswer&&0==e.judgementQuestion.length?s("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.judgementQuestion,function(t,n){return s("div",{key:n,staticClass:"mt30"},[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"font18"},[e._v(e._s(n+1)+"、")]),e.isAnswer?e._e():s("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(s){e.$set(t,"title","string"===typeof s?s.trim():s)},expression:"question.title"}}),e.isAnswer?s("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),s("div",{staticClass:"mt20 flex-row",style:{"margin-left":e.isAnswer?"30px":"88px"}},[s("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:"A"},model:{value:t.answer,callback:function(s){e.$set(t,"answer","string"===typeof s?s.trim():s)},expression:"question.answer"}},[e._v("对")]),s("el-radio",{staticClass:"mr20",attrs:{disabled:e.disabled,label:"B"},model:{value:t.answer,callback:function(s){e.$set(t,"answer","string"===typeof s?s.trim():s)},expression:"question.answer"}},[e._v("错")])],1),s("div",{staticClass:"mt20 flex-row item"},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():s("span",{staticClass:"deleteItem",on:{click:function(t){e.deleteItem("judgementQuestion",n)}}},[e._v("删除")])])])}),e.isAnswer?e._e():s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addJudgement}},[e._v("添加判断题")])],2)},$s=[],Ts={props:{judgementQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addJudgement:function(){this.$emit("addJudgement")}}},js=Ts,Ss=Object(l["a"])(js,Qs,$s,!1,null,null,null),Is=Ss.exports,As=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt20"},[s("h1",{staticClass:"font20"},[e._v("四、问答题")]),e.isAnswer&&0==e.answerQuestion.length?s("div",{staticClass:"mt20"},[e._v("暂无题目")]):e._e(),e._l(e.answerQuestion,function(t,n){return s("div",{key:n,staticClass:"mt30"},[s("div",{staticClass:"flex-row align-items"},[s("span",{staticClass:"font18"},[e._v(e._s(n+1)+"、")]),e.isAnswer?e._e():s("span",{staticClass:"font20 text-nowrap mr10"},[e._v("题目 : ")]),e.isAnswer?e._e():s("el-input",{attrs:{placeholder:"请输入题目"},model:{value:t.title,callback:function(s){e.$set(t,"title","string"===typeof s?s.trim():s)},expression:"question.title"}}),e.isAnswer?s("span",{staticClass:"font20"},[e._v(e._s(t.title))]):e._e()],1),s("div",{staticClass:"mt20 flex-row",style:{"margin-left":e.isAnswer?"30px":"88px"}},[s("el-input",{attrs:{disabled:e.disabled,type:"textarea",placeholder:"请输入内容"},model:{value:t.answer,callback:function(s){e.$set(t,"answer","string"===typeof s?s.trim():s)},expression:"question.answer"}})],1),s("div",{staticClass:"mt20 flex-row item"},[s("span",{staticStyle:{color:"red"}},[e._v(e._s(t.message))]),e.isAnswer?e._e():s("span",{staticClass:"deleteItem",on:{click:function(t){e.deleteItem("answerQuestion",n)}}},[e._v("删除")])])])}),e.isAnswer?e._e():s("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger"},on:{click:e.addAnswer}},[e._v("添加简答题")])],2)},qs=[],Os={props:{answerQuestion:{type:Array,default:function(){return[]}},isAnswer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{deleteItem:function(e,t){this.$emit("deleteItem",{key:e,index:t})},addAnswer:function(){this.$emit("addAnswer")}}},Ps=Os,Ls=Object(l["a"])(Ps,As,qs,!1,null,null,null),Es=Ls.exports,Bs=["/api/user/login","/api/user/register","/api/user/sendCode","/api/user/logout"];i["default"].use(y.a),i["default"].component("v-chart",os["a"]),i["default"].filter("formatDate",N),i["default"].filter("numToPercent",D),i["default"].component("bg",ds),i["default"].component("Single",ws),i["default"].component("Multiple",ks),i["default"].component("Answer",Es),i["default"].component("Judgement",Is),_.a.interceptors.request.use(function(e){var t=e.url;if(!Bs.some(function(e){return t.startsWith(e)})){var s=window.sessionStorage.getItem("token")||"";e.headers.token=s}return e}),_.a.interceptors.response.use(function(e){if(401==e.data.statusCode)window.sessionStorage.removeItem("token"),is.commit("setUserInfo",{}),Kt.replace({name:"login"});else{var t=e.headers.token;t&&window.sessionStorage.setItem("token",t)}return e}),i["default"].config.productionTip=!1,Kt.beforeEach(function(e,t,s){is.state.userInfo._id?s():"login"==e.name||"register"==e.name?s():s({name:"login"})}),new i["default"]({router:Kt,store:is,mounted:function(){document.dispatchEvent(new Event("render-event"))},render:function(e){return e(m)}}).$mount("#app")},"592c":function(e,t,s){"use strict";var n=s("f6fe"),a=s.n(n);a.a},5938:function(e,t,s){},"664e":function(e,t,s){"use strict";var n=s("09e0"),a=s.n(n);a.a},"6ae8":function(e,t,s){"use strict";var n=s("ef55"),a=s.n(n);a.a},"6efa":function(e,t,s){},"7f27":function(e,t,s){},"7f4d":function(e,t,s){},8220:function(e,t,s){"use strict";var n=s("c3dd"),a=s.n(n);a.a},8514:function(e,t,s){},a7f9:function(e,t,s){"use strict";var n=s("c80b"),a=s.n(n);a.a},aca2:function(e,t,s){"use strict";var n=s("bdfb"),a=s.n(n);a.a},b528:function(e,t,s){},ba21:function(e,t,s){"use strict";var n=s("1dd9"),a=s.n(n);a.a},bbd1:function(e,t,s){},bdfb:function(e,t,s){},c290:function(e,t,s){},c3dd:function(e,t,s){},c509:function(e,t,s){"use strict";var n=s("7f27"),a=s.n(n);a.a},c80b:function(e,t,s){},cc60:function(e,t,s){"use strict";var n=s("5015"),a=s.n(n);a.a},ccff:function(e,t,s){"use strict";var n=s("8514"),a=s.n(n);a.a},cf05:function(e,t,s){e.exports=s.p+"assets/img/logo.c43f32ce.png"},d29b:function(e,t,s){"use strict";var n=s("7f4d"),a=s.n(n);a.a},e719:function(e,t,s){},ea15:function(e,t,s){"use strict";var n=s("f11e"),a=s.n(n);a.a},eb1f:function(e,t,s){},edd0:function(e,t,s){},ef02:function(e,t,s){},ef55:function(e,t,s){},f11e:function(e,t,s){},f17a:function(e,t,s){"use strict";var n=s("50e4"),a=s.n(n);a.a},f6fe:function(e,t,s){},f985:function(e,t,s){"use strict";var n=s("5938"),a=s.n(n);a.a},fd38:function(e,t,s){}});
//# sourceMappingURL=app.4ac89f17.js.map